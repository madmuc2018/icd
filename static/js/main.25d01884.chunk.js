(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){e.exports=a.p+"static/media/logo.329790b8.png"},405:function(e,t,a){e.exports=a.p+"static/media/consent.bfc04146.pdf"},435:function(e,t,a){e.exports=a(838)},440:function(e,t,a){},675:function(e,t){},802:function(e,t){},804:function(e,t){},825:function(e,t){},826:function(e,t){},827:function(e,t){},838:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(24),s=a.n(l),c=(a(440),a(15)),o=a(16),i=a(18),u=a(17),m=a(19),d=a(234),p=a(159),h=a(392),f=a(242),E=a(391),g=a(9),v=a.n(g),b=a(14),k=a(62),y=a.n(k),w={getToken:function(){return localStorage.getItem("token")},setToken:function(e){localStorage.setItem("token","string"===typeof e?e:JSON.stringify(e))},loggedIn:function(){var e=localStorage.getItem("token");return e&&e.trim()},logout:function(){localStorage.removeItem("token")}},C="https://cd-app-usask.herokuapp.com/v1";function x(){return{headers:{Authorization:"Bearer ".concat(w.getToken())}}}function O(e,t){if(e.response&&e.response.data&&e.response.data.message)throw new Error(e.response.data.message);throw new Error(t||"Invalid response from server")}var T={register:function(){var e=Object(b.a)(v.a.mark(function e(t,a,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(C,"/user/register"),{username:t,password:a,role:n});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),O(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a,n){return e.apply(this,arguments)}}(),login:function(){var e=Object(b.a)(v.a.mark(function e(t,a){var n,r,l,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(C,"/user/login"),{username:t,password:a});case 3:if(n=e.sent,r=n.data,l=r.token,s=r.role,l){e.next=9;break}throw new Error("Invalid login response from server");case 9:return e.abrupt("return",{token:l,role:s});case 12:e.prev=12,e.t0=e.catch(0),O(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a){return e.apply(this,arguments)}}(),getTaskLatest:function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(C,"/fs/").concat(t,"/latest"),x());case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),O(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),getTasks:function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(C,"/fs"),x());case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),O(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),updateTask:function(){var e=Object(b.a)(v.a.mark(function e(t,a){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.put("".concat(C,"/fs/").concat(t),a,x());case 3:return n=e.sent,e.abrupt("return",n.data.globalUniqueID);case 7:e.prev=7,e.t0=e.catch(0),O(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),includeTask:function(){var e=Object(b.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(C,"/fs/publish"),t,x());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),O(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),getPublishedTasks:function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(C,"/fs/published"),x());case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),O(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),collect:function(){var e=Object(b.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("".concat(C,"/collector"),{link:t});case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),O(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},S=a(841),j=a(851),D=a(843),I=a(844),F=a(402),U=a(850),N=a(845),B=a(848),R=a(45),H=function(){return r.a.createElement("div",null,r.a.createElement(U.a,{style:{backgroundColor:"#2699fb"}},r.a.createElement(B.a,{className:"mr-auto"},r.a.createElement(R.LinkContainer,{style:{backgroundColor:"#2699fb",fontWeight:"bold",color:"white"},to:"/"},r.a.createElement(S.a,{variant:"link"},"Home"))),r.a.createElement(U.a.Collapse,{className:"justify-content-end"},r.a.createElement(R.LinkContainer,{style:{backgroundColor:"#2699fb",fontWeight:"bold",color:"white"},to:"/logout"},r.a.createElement(S.a,null,"Logout")))),r.a.createElement("br",null))},L=a(847),W=a(842),z=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=void 0!==this.props.loading&&null!==this.props.loading,t="Loading";return"string"===typeof this.props.loading&&this.props.loading.trim().length>0&&(t=this.props.loading),r.a.createElement("div",null,e?r.a.createElement(L.a,{show:e,centered:!0},r.a.createElement(L.a.Body,null,r.a.createElement("div",{className:"text-center"},r.a.createElement(W.a,{animation:"border",variant:"primary"}),"\xa0"," ",t))):r.a.createElement("div",null,this.props.children))}}]),t}(n.Component),A=a(82),Y=a(128),M=a.n(Y),P=a(53),_={propercase:function(e){return e.split("").map(function(e,t){return 0===t?e.toUpperCase():e}).join("")},taskDuration:function(e){var t=e/1e3/60;return Math.round(100*t)/100},timeout:function(e){return new Promise(function(t){return setTimeout(t,e)})}},K="Minutes that Students have spent",V=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return window.FOR_INSTRUCTOR?r.a.createElement(q,null):r.a.createElement(G,null)}}]),t}(n.Component),q=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={tasks:[],chartData:[]},e.activeTasks=function(){return e.state.tasks.filter(function(e){return!e.completed})},e.completedTasks=function(){return e.state.tasks.filter(function(e){return e.completed})},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t,a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,T.getPublishedTasks();case 4:t=e.sent,a=t.map(function(e){var t=e.source,a=t.data,n=t.guid,r=e.published,l=a.name,s=a.estimatedStress;return{guid:n,name:l,estimatedHours:a.estimatedHours,estimatedStress:s,duration:r.reduce(function(e,t){return"number"===typeof t.data.duration?e+t.data.duration:e},0),completed:r.reduce(function(e,t){return"number"===typeof t.data.startTime&&"number"===typeof t.data.endTime&&e},!0)}}),n=a.map(function(e){var t={};return t.name=e.name,t["Estimated Stress"]=e.estimatedStress,t[K]=_.taskDuration(e.duration),t["Estimated hours"]=e.estimatedHours,t}),this.setState({tasks:a,chartData:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:return e.prev=13,this.componentUnmounted||this.setState({loading:void 0}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){var e=this,t=function(){return r.a.createElement("hr",{style:{borderTop:"solid",borderColor:"#2699fb"}})},a=function(){return r.a.createElement(D.a,null,r.a.createElement(I.a,null,r.a.createElement(F.a,{className:"text-center",style:{margin:"0 7rem"}},r.a.createElement(j.a,{style:{backgroundColor:"#2699fb",color:"white"}},r.a.createElement(j.a.Body,null,r.a.createElement("h1",null,e.state.tasks.length))),r.a.createElement("h6",{style:{color:"#2699fb"}},"Total Tasks")),r.a.createElement(F.a,{className:"text-center",style:{margin:"0 7rem"}},r.a.createElement(j.a,{style:{backgroundColor:"#2699fb",color:"white"}},r.a.createElement(j.a.Body,null,r.a.createElement("h1",null,e.state.tasks.map(function(e){return"number"===typeof e.duration?_.taskDuration(e.duration):0}).reduce(function(e,t){return e+t},0)))),r.a.createElement("h6",{style:{color:"#2699fb"}},"Total Minutes"))))};return r.a.createElement("div",null,r.a.createElement(U.a,{style:{backgroundColor:"#2699fb"}},r.a.createElement(U.a.Brand,null,r.a.createElement(A.c,null)," Hello, Instructor!"),r.a.createElement(U.a.Collapse,{className:"justify-content-end"},r.a.createElement(R.LinkContainer,{style:{backgroundColor:"#2699fb",fontWeight:"bold",color:"white"},to:"/logout"},r.a.createElement(S.a,null,"Logout")))),r.a.createElement("div",{style:{display:"flex",flexFlow:"row wrap",minHeight:"100vh",margin:"0.5rem"}},r.a.createElement(function(){return r.a.createElement("div",{style:{flex:"1 0 0",order:"1"}},r.a.createElement(R.LinkContainer,{to:"/tasks/include"},r.a.createElement(S.a,{style:{color:"#2699FB",width:"100%"},size:"lg",variant:"outline-dark"},"Add Tasks ",r.a.createElement(A.a,null))),r.a.createElement("div",{style:{margin:"2rem 0 0 0",padding:"1rem",minHeight:"100vh",backgroundColor:"#d1eafd"}},r.a.createElement("h5",null,"Course Load Status"),r.a.createElement(t,null),r.a.createElement("h6",{style:{fontWeight:"lighter",textAlign:"center",lineHeight:"3"}},"Tip!",r.a.createElement("br",null),"You may want to consider revising the curriculum based on the statistics")))},null),r.a.createElement(function(){return r.a.createElement("div",{style:{flex:"1.3 0 0",order:"3"}},r.a.createElement(j.a,{style:{minHeight:"100vh"}},r.a.createElement(j.a.Header,{style:{backgroundColor:"#2699fb",color:"white",padding:"2rem"},as:"h5"},"All Tasks"),r.a.createElement(j.a.Body,{style:{color:"#2699fb",margin:"0 1rem"}},r.a.createElement(j.a.Title,null,"Active Tasks"),r.a.createElement(t,null),e.activeTasks().map(function(e){return r.a.createElement(j.a.Text,{key:e.guid},e.name)}),r.a.createElement(j.a.Title,null,"Completed Tasks"),r.a.createElement(t,null),e.completedTasks().map(function(e){return r.a.createElement(j.a.Text,{key:e.guid},e.name)}))))},null),r.a.createElement(function(){return r.a.createElement("div",{style:{flex:"7 0 0",order:"2"}},r.a.createElement(a,null),r.a.createElement("h6",null,"Assignments"),r.a.createElement(J,{data:e.state.chartData}))},null)),r.a.createElement(N.a,{src:M.a,style:{height:"3rem"},fluid:!0}))}}]),t}(n.Component),G=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={tasks:[]},e.activeTasks=function(){return e.state.tasks.filter(function(e){return!(e.data.startTime&&e.data.endTime)})},e.completedTasks=function(){return e.state.tasks.filter(function(e){return e.data.startTime&&e.data.endTime})},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,T.getTasks();case 4:t=e.sent,this.setState({tasks:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:return e.prev=11,this.componentUnmounted||this.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(D.a,null,r.a.createElement(z,{loading:this.state.loading},r.a.createElement("h4",{style:{color:"#2699FB"}},"Active tasks"),this.activeTasks().map(function(e){return r.a.createElement("div",{key:e.guid},r.a.createElement(j.a,{style:{backgroundColor:"#F1F8FF",color:"#2699FB"}},r.a.createElement(j.a.Body,null,r.a.createElement("h5",null," ",r.a.createElement(A.d,null)," ",e.data.name," "),r.a.createElement(R.LinkContainer,{to:"/tasks/".concat(e.guid,"/details"),replace:!0},r.a.createElement(S.a,{variant:"primary"},"Start Task")))),r.a.createElement("br",null))}),r.a.createElement("h4",{style:{color:"#2699FB"}},"Completed Tasks"),this.completedTasks().map(function(e){return r.a.createElement("div",{key:e.guid},r.a.createElement(j.a,{style:{backgroundColor:"#F1F8FF",color:"#2699FB"}},r.a.createElement(j.a.Body,null,r.a.createElement(R.LinkContainer,{style:{backgroundColor:"#F1F8FF",color:"#2699FB"},to:"/tasks/".concat(e.guid,"/details"),replace:!0},r.a.createElement(S.a,{size:"lg",variant:"light"},r.a.createElement(A.d,null)," ",e.data.name)))),r.a.createElement("br",null))}))))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={size:500},a.increaseScale=function(){return a.setState(function(e){return{size:e.size+100}})},a.decreaseScale=function(){return a.setState(function(e){return{size:e.size-100}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{variant:"light",size:"lg",onClick:this.decreaseScale},"-"),r.a.createElement(S.a,{variant:"light",size:"lg",onClick:this.increaseScale},"+"),r.a.createElement(P.b,{width:this.state.size+500,height:this.state.size,data:this.props.data,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(P.c,{strokeDasharray:"3 3"}),r.a.createElement(P.f,{dataKey:"name"}),r.a.createElement(P.g,null),r.a.createElement(P.e,null),r.a.createElement(P.d,null),r.a.createElement(P.a,{dataKey:"Estimated hours",fill:"#81e383"}),r.a.createElement(P.a,{dataKey:K,fill:"#7e9e7f"}),r.a.createElement(P.a,{dataKey:"Estimated Stress",fill:"#e38881"})))}}]),t}(n.PureComponent),$=V,Q=a(408),X=a(72),Z=a(403),ee=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a,null,r.a.createElement(F.a,null,r.a.createElement(Z.a,{placeholder:this.props.placeholder?_.propercase(this.props.placeholder):"",type:this.props.type?this.props.type:"text",name:this.props.name,onChange:this.props.onChange}))),r.a.createElement("br",null))}}]),t}(n.Component),te=a(846),ae=a(171),ne=a.n(ae),re=(a(298),a(404));a(716),a(735);function le(){var e=r.a.useState(!1),t=Object(Q.a)(e,2),a=t[0],n=t[1],l=function(){return n(!1)};return r.a.createElement("div",null,r.a.createElement(S.a,{variant:"primary",onClick:function(){return n(!0)}},"Create"),r.a.createElement(L.a,{show:a,onHide:l},r.a.createElement(L.a.Body,null," Do not leave name, Estimated Hours, and dates empty and make sure Estimated Hours is a number"),r.a.createElement(L.a.Footer,null,r.a.createElement(S.a,{variant:"secondary",onClick:l},"Close"))))}var se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={name:"",estimatedHours:"",regulatedStartDate:null,regulatedEndDate:null,focusedInput:null,notes:"",estimatedStress:5},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(X.a)({},n,r))},a.validInput=function(){return a.state.name.trim().length>0&&a.state.estimatedHours.trim().length>0&&!isNaN(parseFloat(a.state.estimatedHours.trim()))&&a.state.regulatedStartDate&&a.state.regulatedEndDate},a.submit=function(){var e=Object(b.a)(v.a.mark(function e(t){var n,r,l,s,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Including task"}),n=a.state,r=n.name,l=n.estimatedHours,s=n.notes,c=n.estimatedStress,e.next=5,T.includeTask({name:r,estimatedHours:parseFloat(l.trim()),notes:s,estimatedStress:c,regulatedStartDate:a.state.regulatedStartDate.valueOf(),regulatedEndDate:a.state.regulatedEndDate.valueOf()});case 5:a.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:return e.prev=11,a.componentUnmounted||a.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),a.onEnd=function(){return function(e,t,n,r,l){a.setState({estimatedStress:l/10})}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){var e=this;return window.FOR_INSTRUCTOR?r.a.createElement("div",{style:{color:"#2699FB",margin:"5% 0 0 0"}},r.a.createElement("h1",{className:"text-center"},"Create a New Task"),r.a.createElement(z,{loading:this.state.loading},r.a.createElement(D.a,{style:{minWidth:"100vw",margin:"7% 0 0 0"}},r.a.createElement(I.a,null,r.a.createElement(F.a,null,r.a.createElement(ee,{name:"name",placeholder:"Activity Name",onChange:this.handleChange}),r.a.createElement(ee,{name:"estimatedHours",placeholder:"Estimated Hours",onChange:this.handleChange}),r.a.createElement(ee,{name:"notes",placeholder:"Notes",onChange:this.handleChange}),r.a.createElement(re.DateRangePicker,{startDate:this.state.regulatedStartDate,startDateId:"your_unique_start_date_id",endDate:this.state.regulatedEndDate,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState({regulatedStartDate:a,regulatedEndDate:n})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}})),r.a.createElement(F.a,{xl:1},r.a.createElement(ne.a,{className:"text-center",style:{height:"100%"},start:this.state.estimatedStress,orientation:"vertical",direction:"rtl",range:{min:0,max:10},step:.1,pips:{mode:"values",values:[0,1,2,3,4,5,6,7,8,9,10],density:1},onEnd:this.onEnd()})),r.a.createElement(F.a,null,r.a.createElement(j.a,{className:"text-center",body:!0},"What level of stress do you think your students may experience in completing this task?"),r.a.createElement("br",null),r.a.createElement("h5",null,"Interpretation of the stress scroll bar:"),r.a.createElement(te.a,{bordered:!0,style:{color:"#2699FB"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Meaning"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1 - 4 = low stress"),r.a.createElement("td",null,"Student are likely not psychologically distressed")),r.a.createElement("tr",null,r.a.createElement("td",null,"4.1 - 7 = moderate stress"),r.a.createElement("td",null,"Student are likely mildly psychologically distressed")),r.a.createElement("tr",null,r.a.createElement("td",null,"7.1 - 10 = high stress"),r.a.createElement("td",null,"Student are likely to be severely psychologically distressed"))))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},this.validInput()?r.a.createElement(S.a,{onClick:this.submit}," Create "):r.a.createElement(le,null)))):r.a.createElement("div",null)}}]),t}(n.Component),ce=a(11),oe=a.n(ce),ie="START",ue="END",me="PAUSE",de="CONTINUE",pe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={guid:"",task:{}},e.changeTask=function(){var t=Object(b.a)(v.a.mark(function t(a){var n,r,l,s,c,o,i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.setState({loading:"Updating ..."}),n=e.state.task,r=(new Date).getTime(),t.t0=a,t.next=t.t0===ie?7:t.t0===ue?11:t.t0===me?16:t.t0===de?22:28;break;case 7:if(!n.startTime){t.next=9;break}return t.abrupt("return",console.warn("Already started"));case 9:return n.startTime=r,t.abrupt("break",29);case 11:if(!n.endTime){t.next=13;break}return t.abrupt("return",console.warn("Already end"));case 13:return n.endTime=r,n.duration?n.paused||(s=r-n.pauseTime,n.duration+=s):(l=r-n.startTime,n.duration=l),t.abrupt("break",29);case 16:if(!n.paused){t.next=18;break}return t.abrupt("return",console.warn("Already paused"));case 18:return n.paused=!0,n.duration?(o=r-n.pauseTime,n.duration+=o):(c=r-n.startTime,n.duration=c),n.pauseTime=r,t.abrupt("break",29);case 22:if(n.startTime){t.next=24;break}return t.abrupt("return",console.warn("Has not started"));case 24:if(n.paused){t.next=26;break}return t.abrupt("return",console.warn("Already continued"));case 26:return n.paused=!1,t.abrupt("break",29);case 28:return t.abrupt("return",console.warn("No ".concat(a)));case 29:return t.next=31,T.updateTask(e.state.guid,n);case 31:i=t.sent,e.props.history.replace("/tasks/".concat(i,"/details")),e.setState({guid:i}),t.next=39;break;case 36:t.prev=36,t.t1=t.catch(0),alert(t.t1);case 39:return t.prev=39,e.componentUnmounted||e.setState({loading:void 0}),t.finish(39);case 42:case"end":return t.stop()}},t,null,[[0,36,39,42]])}));return function(e){return t.apply(this,arguments)}}(),e.taskStatus=function(){return e.state.task.startTime?e.state.task.startTime&&!e.state.task.endTime?"You're currently working on this task":e.state.task.startTime&&e.state.task.endTime?"You've completed this task":"Error":"You haven't started this task"},e.handleSubmitStress=function(){var t=Object(b.a)(v.a.mark(function t(a){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:"Updating ..."}),(n=e.state.task).stress=a,t.next=6,T.updateTask(e.state.guid,n);case 6:e.props.history.replace("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert(t.t0);case 12:return t.prev=12,e.componentUnmounted||e.setState({loading:void 0}),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[0,9,12,15]])}));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,T.getTaskLatest(this.props.match.params.id);case 4:(t=e.sent).guid!==this.props.match.params.id&&this.props.history.replace("/tasks/".concat(t.guid,"/details")),this.setState({guid:t.guid,task:t.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:return e.prev=12,this.componentUnmounted||this.setState({loading:void 0}),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(z,{loading:this.state.loading},r.a.createElement(D.a,{className:"text-center"},this.state.task.startTime&&this.state.task.endTime?r.a.createElement("div",null,r.a.createElement(j.a,{style:{backgroundColor:"#2799F9",color:"white"}},r.a.createElement(j.a.Body,null,r.a.createElement("h2",null,"Task ",this.state.task.name," completed"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Time spent"),r.a.createElement("h6",null,"".concat(_.taskDuration(this.state.task.duration)," minutes")))),r.a.createElement("br",null),r.a.createElement("br",null),"number"===typeof this.state.task.stress?r.a.createElement("h6",{style:{color:"#2699FB"}},"Submitted stress level: ",this.state.task.stress):r.a.createElement(he,{submitStress:this.handleSubmitStress})):r.a.createElement("div",null,r.a.createElement(j.a,{style:{backgroundColor:"#2799F9",color:"white"}},r.a.createElement(j.a.Body,null,r.a.createElement("h2",null,this.state.task.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,this.taskStatus()),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Task Details"),r.a.createElement("h6",null,"Start Date: ",this.state.task.startTime?oe()(this.state.task.startTime).format("MMMM Do YYYY, h:mm:ss a"):""," | End Date: ",this.state.task.endTime?oe()(this.state.task.endTime).format("MMMM Do YYYY, h:mm:ss a"):""))),r.a.createElement("div",null,r.a.createElement("style",{type:"text/css"},"\n\t\t\t\t\t\t\t\t\t    .btn-flat {\n\t\t\t\t\t\t\t\t\t      background-color: #2799F9;\n\t\t\t\t\t\t\t\t\t      color: white;\n\t\t\t\t\t\t\t\t\t    }\n\n\t\t\t\t\t\t\t\t\t    .btn-xxl {\n\t\t\t\t\t\t\t\t\t      margin: 1rem 0 0 0;\n\t\t\t\t\t\t\t\t\t      font-size: 3rem;\n\t\t\t\t\t\t\t\t\t      height: 15rem;\n\t\t\t\t\t\t\t\t\t      width: 15rem;\n\t\t\t\t\t\t\t\t\t      border-radius: 40rem;\n\t\t\t\t\t\t\t\t\t  \t}\n\n                      .btn-xxs {\n                        margin: 10rem 0 0 0;\n                        font-size: 1rem;\n                        height: 5rem;\n                        width: 5rem;\n                        border-radius: 10rem;\n                      }\n\t\t\t\t\t\t\t\t    "),this.state.task.startTime?r.a.createElement("div",null):r.a.createElement(S.a,{variant:"flat",size:"xxl",onClick:function(){return e.changeTask(ie)}},"Start"),!this.state.task.startTime||this.state.task.endTime||this.state.task.paused?r.a.createElement("div",null):r.a.createElement(S.a,{variant:"flat",size:"xxl",onClick:function(){return e.changeTask(me)}},"Pause"),this.state.task.startTime&&!this.state.task.endTime&&this.state.task.paused?r.a.createElement("div",null,r.a.createElement(S.a,{variant:"flat",size:"xxl",onClick:function(){return e.changeTask(de)}},"Continue"),r.a.createElement(S.a,{variant:"flat",size:"xxs",onClick:function(){return e.changeTask(ue)}},"Stop")):r.a.createElement("div",null))))))}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:5},a.onEnd=function(){return function(e,t,n,r,l){a.setState({value:l/10})}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h6",{style:{color:"#2699FB"}},"Drag the scroll bar up to indicate how stressful you felt in completing this activity"),r.a.createElement("div",{style:{margin:"2rem",display:"flex",justifyContent:"center"}},r.a.createElement(ne.a,{className:"text-center",style:{height:"35rem"},start:this.state.value,orientation:"vertical",direction:"rtl",range:{min:0,max:10},step:.1,pips:{mode:"values",values:[0,1,2,3,4,5,6,7,8,9,10],density:1},onEnd:this.onEnd()})),r.a.createElement(te.a,{bordered:!0,style:{color:"#2699FB"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Meaning"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1 - 4 = low stress"),r.a.createElement("td",null,"You are likely not psychologically distressed")),r.a.createElement("tr",null,r.a.createElement("td",null,"4.1 - 7 = moderate stress"),r.a.createElement("td",null,"You are likely mildly psychologically distressed")),r.a.createElement("tr",null,r.a.createElement("td",null,"7.1 - 10 = high stress"),r.a.createElement("td",null,"You are likely to be severely psychologically distressed")))),r.a.createElement(S.a,{style:{backgroundColor:"#2799F9"},onClick:function(){return e.props.submitStress(e.state.value)}},"Submit"))}}]),t}(n.Component),fe=pe,Ee=a(849),ge=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e)),w.loggedIn()&&a.props.history.replace("/"),a.state={email:"",password:"",instructor:!1},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(X.a)({},n,r))},a.handleRegister=function(){var e=Object(b.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Registering"}),e.next=4,T.register(a.state.email,a.state.password,a.state.instructor?"INSTRUCTOR":"student");case 4:return e.t0=w,e.next=7,T.login(a.state.email,a.state.password);case 7:e.t1=e.sent,e.t0.setToken.call(e.t0,e.t1),a.props.history.replace("/"),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(0),alert(e.t2);case 15:return e.prev=15,a.componentUnmounted||a.setState({loading:void 0}),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,12,15,18]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(D.a,null,r.a.createElement("h1",null,"Register"),r.a.createElement(z,{loading:this.state.loading},r.a.createElement(ee,{name:"email",placeholder:"email",onChange:this.handleChange}),r.a.createElement(ee,{name:"password",placeholder:"password",type:"password",onChange:this.handleChange}),r.a.createElement(Ee.a.Check,{name:"instructor",label:"I'm an instructor",onChange:function(){return e.setState({instructor:!e.state.instructor})}}),r.a.createElement("br",null),r.a.createElement(S.a,{onClick:this.handleRegister},"Register"))))}}]),t}(r.a.Component),ve={isConsented:function(){return"1"===localStorage.getItem("consent")},doConsent:function(){localStorage.setItem("consent","1")},undoConsent:function(){localStorage.removeItem("consent")}},be=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e)),w.loggedIn()&&a.props.history.replace("/"),a.state={email:"test1@test.com",password:"123"},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(X.a)({},n,r))},a.handleLogin=function(){var e=Object(b.a)(v.a.mark(function e(t){var n,r,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Logging in"}),e.next=4,T.login(a.state.email,a.state.password);case 4:if(n=e.sent,r=n.token,l=n.role,!window.FOR_INSTRUCTOR||"INSTRUCTOR"===l){e.next=12;break}return alert("You are not an instructor, please use the app for students instead"),e.abrupt("return");case 12:if(window.FOR_INSTRUCTOR||"INSTRUCTOR"!==l){e.next=15;break}return alert("You are not a student, please use the app for the instructor instead"),e.abrupt("return");case 15:w.setToken(r),a.props.history.replace("/"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:return e.prev=22,a.componentUnmounted||a.setState({loading:void 0}),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[0,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){return window.FOR_INSTRUCTOR?r.a.createElement("div",null,r.a.createElement(D.a,{style:{margin:"1rem"}},r.a.createElement(I.a,{style:{minHeight:"100vh",minWidth:"98vw"}},r.a.createElement(F.a,{style:{backgroundColor:"#2699fb",display:"flex",alignItems:"center",justifyContent:"center",color:"white"}},r.a.createElement("div",{style:{width:"20rem"}},r.a.createElement("h5",null,"Welcome to CD"),r.a.createElement("hr",{style:{borderTop:"solid"}}),r.a.createElement("h6",{style:{fontWeight:"lighter"}},"Welcome to the CD app for instructors. Login and to access"),r.a.createElement("br",null),r.a.createElement(S.a,{style:{borderColor:"white",fontWeight:"bold",color:"white"},variant:"outline-dark"},"Learn more"))),r.a.createElement(F.a,{style:{margin:"20% 0 20% 0",color:"#2699FB"}},r.a.createElement(N.a,{src:M.a,style:{width:"10rem"},fluid:!0}),ve.isConsented()?r.a.createElement(z,{loading:this.state.loading},r.a.createElement("div",{className:"text-center"},r.a.createElement("h4",null,"Sign in"),r.a.createElement("br",null),r.a.createElement(ee,{name:"email",placeholder:"User ID",onChange:this.handleChange}),r.a.createElement(ee,{name:"password",placeholder:"Password",type:"password",onChange:this.handleChange}),r.a.createElement(S.a,{size:"sm",onClick:this.handleLogin,block:!0},r.a.createElement(A.b,null)))):r.a.createElement("div",null,r.a.createElement("p",{style:{color:"#2699FB"}}," To start using this app, you must first give your consent to participate in the study: Impact of curriculum overload on students' mental health using the Curriculum Densitometer "),r.a.createElement(R.LinkContainer,{to:"/consent",replace:!0},r.a.createElement(S.a,{variant:"primary"},"Give consent"))))))):r.a.createElement("div",null,r.a.createElement(D.a,{className:"text-center"},r.a.createElement(N.a,{src:M.a,style:{margin:"5rem",width:"15rem"},fluid:!0}),ve.isConsented()?r.a.createElement(z,{loading:this.state.loading},r.a.createElement(ee,{name:"email",placeholder:"email",onChange:this.handleChange}),r.a.createElement(ee,{name:"password",placeholder:"password",type:"password",onChange:this.handleChange}),r.a.createElement(S.a,{onClick:this.handleLogin},"Log in")):r.a.createElement("div",null,r.a.createElement("p",{style:{color:"blue"}}," To start using this app, you must first give your consent to participate in the study: Impact of curriculum overload on students' mental health using the Curriculum Densitometer "),r.a.createElement(R.LinkContainer,{to:"/consent",replace:!0},r.a.createElement(S.a,{variant:"primary"},"Give consent")))))}}]),t}(r.a.Component),ke=a(405),ye=a.n(ke),we=a(406),Ce=a.n(we),xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={scale:1},a.increaseScale=function(){return a.setState(function(e){return{scale:e.scale+.2}})},a.decreaseScale=function(){return a.setState(function(e){return{scale:e.scale-.2}})},a.handleConsent=function(){var e=Object(b.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Thank you, redirecting to login"}),e.next=4,_.timeout(1e3);case 4:ve.doConsent(),a.props.history.replace("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:return e.prev=11,a.componentUnmounted||a.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(z,{loading:this.state.loading},r.a.createElement("style",{type:"text/css"},"\n            .customViewer {\n              margin: 0;\n              padding: 0;\n              width: 30rem;\n              text-align: left;\n            }\n            .customViewer > div:nth-child(1) {\n              margin: 0;\n              padding: 0;\n              width: 30rem;\n            }\n            .customPrevBtn {\n              cursor: pointer;\n              display: inline-block;\n              margin: 0;\n              width: 3rem;\n              color: white;\n              background-color: black;\n              border-width: 0.1rem;\n              border-style: solid;\n              border-radius: 0.5rem;\n            }\n            .customNextBtn {\n              cursor: pointer;\n              display: inline-block;\n              margin: 0;\n              width: 3rem;\n              color: white;\n              background-color: black;\n              border-width: 0.1rem;\n              border-style: solid;\n              border-radius: 0.5rem;\n            }\n            .customPages {\n              display: inline-block;\n              width: 15rem;\n            }\n            .customWrapper {\n              height: 3rem;\n              font-size: 1.2rem;\n              background-color: #fff;\n            }\n          "),r.a.createElement(S.a,{variant:"light",onClick:this.decreaseScale},"-"),r.a.createElement("span",null,"Scale: ",this.state.scale),r.a.createElement(S.a,{variant:"light",onClick:this.increaseScale},"+"),r.a.createElement(Ce.a,{document:{url:ye.a},css:"customViewer",scale:this.state.scale,navigation:{css:{previousPageBtn:"customPrevBtn",nextPageBtn:"customNextBtn",pages:"customPages",wrapper:"customWrapper"}}}),r.a.createElement("div",{style:{margin:"2rem",display:"flex",justifyContent:"center"}},r.a.createElement(S.a,{size:"lg",className:"text-center",variant:"primary",onClick:this.handleConsent},"Give consent")))}}]),t}(r.a.Component),Oe=a(407),Te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={credentials:"",csvs:[]},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(X.a)({},n,r))},a.handleCollect=function(){var e=Object(b.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Collecting"}),e.next=4,T.collect(a.state.credentials);case 4:n=e.sent,a.setState({csvs:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:return e.prev=11,a.componentUnmounted||a.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{className:"text-center"},r.a.createElement("h1",null,"Collector"),r.a.createElement(z,{loading:this.state.loading},r.a.createElement(Z.a,{placeholder:"Credentials",name:"credentials",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(S.a,{onClick:this.handleCollect},"Collect"),this.state.csvs.map(function(e){return r.a.createElement(j.a,{key:e.name,border:"success",style:{margin:"2rem 8rem"}},r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,e.name),r.a.createElement(Oe.CSVLink,{filename:"".concat(e.name,".csv"),data:e.csv},"Download")))}))))}}]),t}(r.a.Component);function Se(e){var t=e.component,a=Object(d.a)(e,["component"]);return r.a.createElement(p.a,Object.assign({},a,{render:function(e){return w.loggedIn()?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function je(e){e.component;var t=Object(d.a)(e,["component"]);return r.a.createElement(p.a,Object.assign({},t,{render:function(e){return w.logout(),r.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var De=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,{exact:!0,path:"/login",component:be}),r.a.createElement(p.a,{exact:!0,path:"/register",component:ge}),r.a.createElement(p.a,{exact:!0,path:"/consent",component:xe}),r.a.createElement(p.a,{exact:!0,path:"/collect",component:Te}),r.a.createElement(je,{exact:!0,path:"/logout"}),r.a.createElement(Se,{exact:!0,path:"/",component:$}),r.a.createElement(Se,{exact:!0,path:"/tasks/include",component:se}),r.a.createElement(Se,{exact:!0,path:"/tasks/:id/details",component:fe})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[435,1,2]]]);
//# sourceMappingURL=main.25d01884.chunk.js.map