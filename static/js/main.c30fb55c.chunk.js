(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/logo.329790b8.png"},409:function(e,t,a){e.exports=a.p+"static/media/consent.bfc04146.pdf"},438:function(e,t,a){e.exports=a(842)},443:function(e,t,a){},677:function(e,t){},805:function(e,t){},807:function(e,t){},828:function(e,t){},829:function(e,t){},83:function(e){e.exports={cdFore:"#096a47"}},830:function(e,t){},841:function(e,t,a){},842:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(24),c=a.n(s),l=(a(443),a(14)),o=a(16),i=a(18),u=a(17),m=a(19),d=a(236),h=a(160),p=a(393),f=a(244),g=a(394),E=a(30),v=a(845),k=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(v.a,{className:"cdFore",variant:"light",href:"".concat("https://madmuc2018.github.io/icd","/help.png"),target:"_blank"},"Help ",r.a.createElement(E.b,null)))},b=a(9),y=a.n(b),w=a(15),S=a(55),O=a.n(S),C={getToken:function(){return localStorage.getItem("token")},setToken:function(e){localStorage.setItem("token","string"===typeof e?e:JSON.stringify(e))},loggedIn:function(){var e=localStorage.getItem("token");return e&&e.trim()},logout:function(){localStorage.removeItem("token")}},x="https://cd-app-usask.herokuapp.com/v1";function j(){return{headers:{Authorization:"Bearer ".concat(C.getToken())}}}function T(e,t){this.message=e,this.status=t}function N(e,t){if(e.response&&e.response.data&&e.response.data.message)throw new T(e.response.data.message,e.response.status);throw new T(t||"Invalid response from server")}var D={register:function(){var e=Object(w.a)(y.a.mark(function e(t,a,n){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(x,"/user/register"),{username:t,password:a,role:n});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),N(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a,n){return e.apply(this,arguments)}}(),login:function(){var e=Object(w.a)(y.a.mark(function e(t,a){var n,r,s,c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(x,"/user/login"),{username:t,password:a});case 3:if(n=e.sent,r=n.data,s=r.token,c=r.role,s){e.next=9;break}throw new Error("Invalid login response from server");case 9:return e.abrupt("return",{token:s,role:c});case 12:e.prev=12,e.t0=e.catch(0),N(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a){return e.apply(this,arguments)}}(),getTaskLatest:function(){var e=Object(w.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(x,"/fs/").concat(t,"/latest"),j());case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),N(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),getTasks:function(){var e=Object(w.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(x,"/fs"),j());case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),N(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),updateTask:function(){var e=Object(w.a)(y.a.mark(function e(t,a){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("".concat(x,"/fs/").concat(t),a,j());case 3:return n=e.sent,e.abrupt("return",n.data.globalUniqueID);case 7:e.prev=7,e.t0=e.catch(0),N(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),includeTask:function(){var e=Object(w.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(x,"/fs/publish"),t,j());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),N(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),getPublishedTasks:function(){var e=Object(w.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(x,"/fs/published"),j());case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),N(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),collect:function(){var e=Object(w.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(x,"/collector"),{link:t});case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),N(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),collectLogins:function(){var e=Object(w.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("".concat(x,"/collector/logins"),{link:t});case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),N(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},F=a(856),U=a(847),I=a(848),R=a(404),B=a(855),L=a(849),H=a(853),z=a(52),W=function(){return r.a.createElement("div",null,r.a.createElement(B.a,{className:"cdFore"},r.a.createElement(H.a,{className:"mr-auto"},r.a.createElement(z.LinkContainer,{className:"cdFore",style:{fontWeight:"bold"},to:"/"},r.a.createElement(v.a,{variant:"link"},"Home"))),r.a.createElement(B.a.Collapse,{className:"justify-content-end"},r.a.createElement(z.LinkContainer,{className:"cdFore",style:{fontWeight:"bold"},to:"/logout"},r.a.createElement(v.a,{variant:"light"},"Logout")))),r.a.createElement("br",null))},Y=a(852),_=a(846),M=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=void 0!==this.props.loading&&null!==this.props.loading,t="Loading";return"string"===typeof this.props.loading&&this.props.loading.trim().length>0&&(t=this.props.loading),r.a.createElement("div",null,e?r.a.createElement(Y.a,{show:e,centered:!0},r.a.createElement(Y.a.Body,null,r.a.createElement("div",{className:"text-center"},r.a.createElement(_.a,{animation:"border",variant:"primary"}),"\xa0"," ",t))):r.a.createElement("div",null,this.props.children))}}]),t}(n.Component),P=a(129),A=a.n(P),V=a(74),q={propercase:function(e){return e.split("").map(function(e,t){return 0===t?e.toUpperCase():e}).join("")},timeout:function(e){return new Promise(function(t){return setTimeout(t,e)})},checkErrorForLogout:function(e,t){401===e.status?(alert("Your session has expired, please login again"),t.replace("/logout")):alert(e.message)}},G=function(){return r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:function(){return window.location.reload()}},"Refresh ",r.a.createElement(E.h,null)," ")},J=a(83),K=a(10),$=a.n(K),Q=a(171),X=a.n(Q);X()($.a);var Z="Hours that Students have spent";var ee=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return window.FOR_INSTRUCTOR?r.a.createElement(te,{routerHistory:this.props.history}):r.a.createElement(ae,{routerHistory:this.props.history})}}]),t}(n.Component),te=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={tasks:[],chartData:[]},e.activeTasks=function(){return e.state.tasks.filter(function(e){return!e.completed})},e.completedTasks=function(){return e.state.tasks.filter(function(e){return e.completed})},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(y.a.mark(function e(){var t,a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,D.getPublishedTasks();case 4:t=e.sent,a=t.map(function(e){var t=e.source,a=t.data,n=t.guid,r=e.published,s=a.name,c=a.estimatedStress,l=a.estimatedHours,o=r.reduce(function(e,t){return"number"===typeof t.data.duration?e+t.data.duration:e},0),i=r.filter(function(e){return"number"===typeof e.data.stress}),u=i.reduce(function(e,t){return e+t.data.stress},0)/i.length;return{guid:n,name:s,estimatedHours:l,estimatedStress:c,duration:o,completed:r.reduce(function(e,t){return"finished"===t.data.status&&e},!0),meanStress:u}}),n=a.map(function(e){var t={};return t.name=e.name,t["Estimated Stress"]=e.estimatedStress,t[Z]=e.duration/1e3/60/60,t["Estimated hours"]=e.estimatedHours,t["Mean Stress"]=e.meanStress,t}),this.setState({tasks:a,chartData:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),q.checkErrorForLogout(e.t0,this.props.routerHistory);case 13:return e.prev=13,this.componentUnmounted||this.setState({loading:void 0}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[0,10,13,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){var e=this,t=function(){return r.a.createElement("hr",{style:{borderTop:"solid",borderColor:J.cdFore}})},a=function(){return r.a.createElement(U.a,null,r.a.createElement(I.a,null,r.a.createElement(R.a,{className:"text-center",style:{margin:"0 7rem"}},r.a.createElement(F.a,{className:"cdFore"},r.a.createElement(F.a.Body,null,r.a.createElement("h1",null,e.state.tasks.length))),r.a.createElement("h6",{className:"cdBack"},"Total Tasks")),r.a.createElement(R.a,{className:"text-center",style:{margin:"0 7rem"}},r.a.createElement(F.a,{className:"cdFore"},r.a.createElement(F.a.Body,null,r.a.createElement("h1",null,$.a.duration(e.state.tasks.map(function(e){return"number"===typeof e.duration?e.duration:0}).reduce(function(e,t){return e+t},0)).format("h [hour], m [minute], s [second]")))),r.a.createElement("h6",{className:"cdBack"},"Total time spent on Task(s)"))))},n=[],s=[];n[0]=["Estimated hours","#81e383"],n[1]=[Z,"#7e9e7f"],s[0]=["Estimated Stress","#e38881"],s[1]=["Mean Stress","#ad534c"];return r.a.createElement("div",null,r.a.createElement(B.a,{className:"cdFore"},r.a.createElement(B.a.Brand,{style:{color:"white"}},r.a.createElement(E.g,null)," Hello, Instructor!"),r.a.createElement(B.a.Collapse,{className:"justify-content-end"},r.a.createElement(z.LinkContainer,{className:"cdFore",style:{fontWeight:"bold"},to:"/logout"},r.a.createElement(v.a,{variant:"light"},"Logout")))),r.a.createElement("div",{style:{display:"flex",flexFlow:"row wrap",minHeight:"100vh",margin:"0.5rem"}},r.a.createElement(function(){return r.a.createElement("div",{style:{flex:"1.3 0 0",order:"3"}},r.a.createElement(F.a,{style:{minHeight:"100vh"}},r.a.createElement(F.a.Header,{className:"cdFore",style:{padding:"2rem"},as:"h5"},"All Tasks"),r.a.createElement(F.a.Body,{className:"cdBack",style:{margin:"0 1rem"}},r.a.createElement(F.a.Title,null,"Active Tasks"),r.a.createElement(t,null),e.activeTasks().map(function(e){return r.a.createElement(F.a.Text,{key:e.guid},e.name)}),r.a.createElement(F.a.Title,null,"Completed Tasks"),r.a.createElement(t,null),e.completedTasks().map(function(e){return r.a.createElement(F.a.Text,{key:e.guid},e.name)}))))},null),r.a.createElement(function(){return r.a.createElement("div",{style:{flex:"7 0 0",order:"2"}},r.a.createElement(z.LinkContainer,{to:"/tasks/include"},r.a.createElement(v.a,{className:"cdFore",style:{width:"100%"},size:"lg",variant:"outline-dark"},"Add Tasks ",r.a.createElement(E.a,null))),r.a.createElement(a,null),r.a.createElement("h6",null,"Assignments"),r.a.createElement(ne,{data:e.state.chartData,keysColors:n}),r.a.createElement(ne,{data:e.state.chartData,keysColors:s}))},null)),r.a.createElement(L.a,{src:A.a,style:{height:"3rem"},fluid:!0}))}}]),t}(n.Component),ae=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={tasks:[]},e.activeTasks=function(){return e.state.tasks.filter(function(e){return"finished"!==e.data.status})},e.completedTasks=function(){return e.state.tasks.filter(function(e){return"finished"===e.data.status})},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,D.getTasks();case 4:t=e.sent,this.setState({tasks:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),q.checkErrorForLogout(e.t0,this.props.routerHistory);case 11:return e.prev=11,this.componentUnmounted||this.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(G,null),r.a.createElement(U.a,null,r.a.createElement(M,{loading:this.state.loading},r.a.createElement("h4",{className:"cdBack"},"Active tasks"),this.activeTasks().map(function(e){return r.a.createElement("div",{key:e.guid},r.a.createElement(F.a,{className:"cdBack"},r.a.createElement(F.a.Body,null,r.a.createElement("h5",null," ",r.a.createElement(E.i,null)," ",e.data.name," "),r.a.createElement(z.LinkContainer,{to:"/tasks/".concat(e.guid,"/details"),replace:!0},r.a.createElement(v.a,{className:"cdFore",size:"lg",variant:"light"},"Start Task")))),r.a.createElement("br",null))}),r.a.createElement("h4",{className:"cdBack"},"Completed Tasks"),this.completedTasks().map(function(e){return r.a.createElement("div",{key:e.guid},r.a.createElement(F.a,{className:"cdBack"},r.a.createElement(F.a.Body,null,r.a.createElement(z.LinkContainer,{to:"/tasks/".concat(e.guid,"/details"),replace:!0},r.a.createElement(v.a,{className:"cdFore",size:"lg",variant:"light"},r.a.createElement(E.i,null)," ",e.data.name)))),r.a.createElement("br",null))}))))}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={size:500},a.increaseScale=function(){return a.setState(function(e){return{size:e.size+100}})},a.decreaseScale=function(){return a.setState(function(e){return{size:e.size-100}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{variant:"light",size:"lg",onClick:this.decreaseScale},"-"),r.a.createElement(v.a,{variant:"light",size:"lg",onClick:this.increaseScale},"+"),r.a.createElement(V.b,{width:this.state.size+500,height:this.state.size,data:this.props.data,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(V.c,{strokeDasharray:"3 3"}),r.a.createElement(V.f,{dataKey:"name"}),r.a.createElement(V.g,null),r.a.createElement(V.e,null),r.a.createElement(V.d,null),this.props.keysColors.map(function(e){return r.a.createElement(V.a,{dataKey:e[0],fill:e[1]})})))}}]),t}(n.PureComponent),re=ee,se=a(411),ce=a(72),le=a(405),oe=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(le.a,{placeholder:this.props.placeholder?q.propercase(this.props.placeholder):"",type:this.props.type?this.props.type:"text",name:this.props.name,onChange:this.props.onChange}))),r.a.createElement("br",null))}}]),t}(n.Component),ie=a(850),ue=(a(300),a(406)),me=(a(718),a(737),a(407)),de=a.n(me),he=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(R.a,{xl:1},r.a.createElement("style",{type:"text/css"},'\n          .noUi-handle {\n            top: 0px;\n            border-radius: 0px;\n            border: none;\n            border-image-width: 0;\n            background: no-repeat url("https://img.icons8.com/officexs/16/000000/arrow.png");\n            background-position: center;\n            background-size: 100% 125%;\n          }\n\n          .noUi-handle::after, .noUi-handle::before{\n            display: none;\n          }\n\n          .noUi-target {\n            background: linear-gradient(#d40404, #ffcfcf);\n          }\n\n          .noUi-tooltip {\n            background-color: '.concat(J.cdFore,";\n            color: white;\n          }\n        ")),r.a.createElement(de.a,{className:"text-center",style:{height:"100%"},start:this.props.start,orientation:"vertical",direction:"rtl",range:{min:0,max:10},step:.1,tooltips:{from:Number,to:function(e){return 0<=e&&e<4?"Mild":4<=e&&e<7?"Moderate":"High"}},pips:{mode:"values",values:[0,1,2,3,4,5,6,7,8,9,10],density:1},onEnd:this.props.onEnd()}))}}]),t}(n.Component);function pe(){var e=r.a.useState(!1),t=Object(se.a)(e,2),a=t[0],n=t[1],s=function(){return n(!1)};return r.a.createElement("div",null,r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:function(){return n(!0)}},"Create"),r.a.createElement(Y.a,{show:a,onHide:s},r.a.createElement(Y.a.Body,null," Do not leave name, Estimated Hours, and dates empty and make sure Estimated Hours is a number"),r.a.createElement(Y.a.Footer,null,r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:s},"Close"))))}var fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={name:"",estimatedHours:"",regulatedStartDate:null,regulatedEndDate:null,focusedInput:null,notes:"",estimatedStress:5},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(ce.a)({},n,r))},a.validInput=function(){return a.state.name.trim().length>0&&a.state.estimatedHours.trim().length>0&&!isNaN(parseFloat(a.state.estimatedHours.trim()))&&a.state.regulatedStartDate&&a.state.regulatedEndDate},a.submit=function(){var e=Object(w.a)(y.a.mark(function e(t){var n,r,s,c,l;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Including task"}),n=a.state,r=n.name,s=n.estimatedHours,c=n.notes,l=n.estimatedStress,e.next=5,D.includeTask({name:r,estimatedHours:parseFloat(s.trim()),notes:c,estimatedStress:l,regulatedStartDate:a.state.regulatedStartDate.valueOf(),regulatedEndDate:a.state.regulatedEndDate.valueOf()});case 5:a.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:return e.prev=11,a.componentUnmounted||a.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),a.onEnd=function(){return function(e,t,n,r,s){a.setState({estimatedStress:s/10})}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){var e=this;return window.FOR_INSTRUCTOR?r.a.createElement("div",{className:"cdBack",style:{margin:"5% 0 0 0"}},r.a.createElement("h1",{className:"text-center"},"Create a New Task"),r.a.createElement(M,{loading:this.state.loading},r.a.createElement(U.a,{style:{minWidth:"100vw",margin:"7% 0 0 0"}},r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(oe,{name:"name",placeholder:"Activity Name",onChange:this.handleChange}),r.a.createElement(oe,{name:"estimatedHours",placeholder:"Estimated Hours",onChange:this.handleChange}),r.a.createElement(oe,{name:"notes",placeholder:"Notes",onChange:this.handleChange}),r.a.createElement(ue.DateRangePicker,{startDate:this.state.regulatedStartDate,startDateId:"your_unique_start_date_id",endDate:this.state.regulatedEndDate,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate,r=a?a.startOf("day"):a,s=n?n.startOf("day"):n;console.log("regulatedStartDate: ".concat(r,", regulatedEndDate: ").concat(s)),e.setState({regulatedStartDate:r,regulatedEndDate:s})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},isOutsideRange:function(){return!1}}),r.a.createElement("h6",{style:{textAlign:"right"}},"Selected stress score: ",this.state.estimatedStress)),r.a.createElement(he,{start:this.state.estimatedStress,onEnd:this.onEnd}),r.a.createElement(R.a,null,r.a.createElement(F.a,{className:"text-center",body:!0},r.a.createElement("b",null,"What level of stress do you think your students may experience in completing this task?")),r.a.createElement("br",null),r.a.createElement("h5",null,"Interpretation of the stress scroll bar:"),r.a.createElement(ie.a,{className:"cdBack",bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Meaning"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1 - 4 = low stress"),r.a.createElement("td",null,"Student may ",r.a.createElement("b",null,"not")," be distressed")),r.a.createElement("tr",null,r.a.createElement("td",null,"4.1 - 7 = moderate stress"),r.a.createElement("td",null,"Student may be ",r.a.createElement("b",null,"mildly")," distressed")),r.a.createElement("tr",null,r.a.createElement("td",null,"7.1 - 10 = high stress"),r.a.createElement("td",null,"Student may  be ",r.a.createElement("b",null,"severely")," distressed"))))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},this.validInput()?r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:this.submit}," Create "):r.a.createElement(pe,null)))):r.a.createElement("div",null)}}]),t}(n.Component),ge=a(854),Ee=a(408),ve=a.n(Ee);X()($.a);var ke="MMMM Do YYYY, h:mm:ss a",be="created",ye="inProgress",we="paused",Se="finished",Oe="start",Ce="stop",xe="pause",je="continue",Te=function e(t,a){Object(l.a)(this,e),this.task=t;var n;this.fsm=new ve.a({init:(n=t.status,[be,ye,we,Se].includes(n)?t.status:be),transitions:a?[{name:"forceStop",from:be,to:Se},{name:"forceStop",from:ye,to:Se},{name:"forceStop",from:we,to:Se}]:[{name:Oe,from:be,to:ye},{name:xe,from:ye,to:we},{name:je,from:we,to:ye},{name:Ce,from:ye,to:Se}],methods:{onStart:function(){t.startTime=(new Date).getTime(),t.status=this.state},onPause:function(){var e=(new Date).getTime();if(t.duration){var a=e-t.pauseTime;t.duration+=a}else{var n=e-t.startTime;t.duration=n}t.pauseTime=e,t.status=this.state},onContinue:function(){t.status=this.state},onStop:function(){var e=(new Date).getTime();t.endTime=e,t.pauseTime?t.duration+=e-t.pauseTime:t.duration=e-t.startTime,t.status=this.state},onForceStop:function(e){switch(e.from){case be:t.duration=0;break;case ye:t.endTime=t.regulatedEndDate,t.duration=t.regulatedEndDate-t.regulatedStartDate;break;case we:t.endTime=t.pauseTime;break;default:alert("Error onForceStop")}t.status=this.state}}})};function Ne(e){var t=(new Date).getTime(),a=t<e.regulatedStartDate,n=e.regulatedEndDate<t;return a?-1:n?1:0}var De=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={guid:"",task:{}},e.changeTask=function(){var t=Object(w.a)(y.a.mark(function t(a){var n,r,s;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.setState({loading:"Updating ..."}),n=new Te(e.state.task),t.t0=a,t.next=t.t0===Oe?6:t.t0===Ce?8:t.t0===xe?10:t.t0===je?12:14;break;case 6:return r=n.fsm.start(),t.abrupt("break",15);case 8:return r=n.fsm.stop(),t.abrupt("break",15);case 10:return r=n.fsm.pause(),t.abrupt("break",15);case 12:return r=n.fsm.continue(),t.abrupt("break",15);case 14:return t.abrupt("return",console.warn("No ".concat(a)));case 15:if(r){t.next=17;break}return t.abrupt("return");case 17:return t.next=19,D.updateTask(e.state.guid,n.task);case 19:s=t.sent,e.props.history.replace("/tasks/".concat(s,"/details")),e.setState({guid:s}),t.next=27;break;case 24:t.prev=24,t.t1=t.catch(0),alert(t.t1.message);case 27:return t.prev=27,e.componentUnmounted||e.setState({loading:void 0}),t.finish(27);case 30:case"end":return t.stop()}},t,null,[[0,24,27,30]])}));return function(e){return t.apply(this,arguments)}}(),e.taskStatus=function(){switch(new Te(e.state.task).fsm.state){case be:return"You haven't started this task";case ye:case we:return"You're currently working on this task";case Se:return"You've completed this task";default:return"Error"}},e.handleSubmitStress=function(t,a){return function(){var n=Object(w.a)(y.a.mark(function n(r,s){var c,l;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.setState({loading:"Updating ..."}),c=e.state.task,a?c.overallStress=r:(c.stresses?c.stresses.push(r):c.stresses=[r],c.comments?c.comments.push(s):c.comments=[s],c.stress=c.stresses.reduce(function(e,t){return t+e},0)/c.stresses.length),n.next=6,D.updateTask(e.state.guid,c);case 6:l=n.sent,t?e.props.history.replace("/"):(e.props.history.replace("/tasks/".concat(l,"/details")),e.setState({guid:l})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),alert(n.t0.message);case 13:return n.prev=13,e.componentUnmounted||e.setState({loading:void 0}),n.finish(13);case 16:case"end":return n.stop()}},n,null,[[0,10,13,16]])}));return function(e,t){return n.apply(this,arguments)}}()},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,D.getTaskLatest(this.props.match.params.id);case 4:if((t=e.sent).guid!==this.props.match.params.id&&this.props.history.replace("/tasks/".concat(t.guid,"/details")),1!==Ne(t.data)||t.data.status===Se){e.next=16;break}return this.setState({loading:"Task has reached deadline, updating ..."}),e.next=10,q.timeout(1e3);case 10:return(a=new Te(t.data,!0)).fsm.forceStop(),e.next=14,D.updateTask(t.guid,a.task);case 14:return this.props.history.replace("/"),e.abrupt("return");case 16:this.setState({guid:t.guid,task:t.data}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),q.checkErrorForLogout(e.t0,this.props.history);case 22:return e.prev=22,this.componentUnmounted||this.setState({loading:void 0}),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[0,19,22,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(G,null),r.a.createElement(M,{loading:this.state.loading},r.a.createElement(U.a,{className:"text-center"},"finished"===this.state.task.status?r.a.createElement("div",null,r.a.createElement(F.a,{className:"cdFore"},r.a.createElement(F.a.Body,null,r.a.createElement("h4",null,"Task ",this.state.task.name," completed, time spent: ",$.a.duration(this.state.task.duration).format("m [minute]")),r.a.createElement(ie.a,{bordered:!0,style:{color:"white"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Meaning"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"1 - 4 = low stress"),r.a.createElement("td",null,"You are likely ",r.a.createElement("b",null,"not")," distressed")),r.a.createElement("tr",null,r.a.createElement("td",null,"4.1 - 7 = moderate stress"),r.a.createElement("td",null,"You are likely ",r.a.createElement("b",null,"mildly")," distressed")),r.a.createElement("tr",null,r.a.createElement("td",null,"7.1 - 10 = high stress"),r.a.createElement("td",null,"You are likely to be ",r.a.createElement("b",null,"severely")," distressed")))))),r.a.createElement("br",null),r.a.createElement("br",null),this.state.task.status===Se&&r.a.createElement("h4",{className:"cdBack"},"number"===typeof this.state.task.stress&&"Submitted average stress level: ".concat(this.state.task.stress),r.a.createElement("br",null),"number"===typeof this.state.task.overallStress&&"Submitted overall stress level: ".concat(this.state.task.overallStress)),this.state.task.status===Se&&"number"!==typeof this.state.task.overallStress&&r.a.createElement("div",null,r.a.createElement("h4",{className:"cdBack"},"Please submit an overall stress score: "),r.a.createElement(Fe,{submitStress:this.handleSubmitStress(!0,!0)})),r.a.createElement("h6",null,"Start Date: ",this.state.task.startTime?$()(this.state.task.startTime).format(ke):""," | End Date: ",this.state.task.endTime?$()(this.state.task.endTime).format(ke):"")):r.a.createElement("div",null,r.a.createElement(F.a,{className:"cdFore"},r.a.createElement(F.a.Body,null,r.a.createElement("h2",null,this.state.task.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,this.taskStatus()),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Task Details"),r.a.createElement("h6",null,"Start Date: ",this.state.task.startTime?$()(this.state.task.startTime).format(ke):""," | End Date: ",this.state.task.endTime?$()(this.state.task.endTime).format(ke):""))),r.a.createElement(function(){if(-1===Ne(e.state.task))return r.a.createElement("h4",{className:"cdFontColor",style:{marginTop:"3rem"}},"You can start this task on ",$()(e.state.task.regulatedStartDate).format("MMMM Do YYYY, h:mm:ss a"));var t=new Te(e.state.task).fsm.transitions();return r.a.createElement("div",null,r.a.createElement("style",{type:"text/css"},"\n            .btn-xxl {\n              margin: 1rem 0 0 0;\n              font-size: 10rem;\n              height: 15rem;\n              width: 15rem;\n              border-radius: 40rem;\n              line-height: 50%;\n            }\n\n            .btn-xxs {\n              margin: 1rem 0 0 0;\n              font-size: 3rem;\n              height: 9rem;\n              width: 9rem;\n              border-radius: 10rem;\n              line-height: 50%;\n            }\n          "),t.includes(Oe)&&r.a.createElement(v.a,{style:{backgroundColor:J.cdFore,color:"white"},variant:"light",size:"xxl",onClick:function(){return e.changeTask(Oe)}},r.a.createElement(E.d,null)),t.includes(xe)&&r.a.createElement(v.a,{style:{backgroundColor:"orange",color:"white"},variant:"light",size:"xxs",onClick:function(){return e.changeTask(xe)}},r.a.createElement(E.c,null)),t.includes(je)&&r.a.createElement(v.a,{style:{backgroundColor:J.cdFore,color:"white"},variant:"light",size:"xxl",onClick:function(){return e.changeTask(je)}},r.a.createElement(E.d,null)),t.includes(Ce)&&r.a.createElement(v.a,{style:{backgroundColor:"red",color:"white"},variant:"light",size:"xxs",onClick:function(){return e.changeTask(Ce)}},r.a.createElement(E.e,null)),e.state.task.status===we&&r.a.createElement(Fe,{submitStress:e.handleSubmitStress(!1)}))},null)))))}}]),t}(n.Component),Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:5,comments:""},a.onEnd=function(){return function(e,t,n,r,s){a.setState({value:s/10})}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h6",{className:"cdBack"},"Drag the scroll bar up to indicate how stressful you felt in completing this activity"),r.a.createElement("div",{style:{marginLeft:"10rem",display:"flex",justifyContent:"center",height:"35rem"}},r.a.createElement(he,{start:this.state.value,onEnd:this.onEnd})),r.a.createElement(ge.a.Group,null,r.a.createElement("h6",{className:"cdBack"},"Comments"),r.a.createElement(ge.a.Control,{onChange:function(t){return e.setState({comments:t.target.value})},as:"textarea",rows:"4"})),r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:function(){return e.props.submitStress(e.state.value,e.state.comments)}},"Submit"))}}]),t}(n.Component),Ue=De,Ie=a(851),Re=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e)),C.loggedIn()&&a.props.history.replace("/"),a.state={email:"",password:"",instructor:!1},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(ce.a)({},n,r))},a.handleRegister=function(){var e=Object(w.a)(y.a.mark(function e(t){var n,r,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Registering"}),e.next=4,D.register("".concat(a.state.email,"@usask.ca"),a.state.password,a.state.instructor?"INSTRUCTOR":"student");case 4:return a.setState({loading:"Logging in"}),e.next=7,D.login("".concat(a.state.email,"@usask.ca"),a.state.password);case 7:if(n=e.sent,r=n.token,s=n.role,!window.FOR_INSTRUCTOR||"INSTRUCTOR"===s){e.next=15;break}return alert("Successfully registered but you are not an instructor, please use the app for students instead"),e.abrupt("return");case 15:if(window.FOR_INSTRUCTOR||"INSTRUCTOR"!==s){e.next=18;break}return alert("Successfully registered but you are not a student, please use the app for the instructor instead"),e.abrupt("return");case 18:C.setToken(r),a.props.history.replace("/"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),alert(e.t0.message);case 25:return e.prev=25,a.componentUnmounted||a.setState({loading:void 0}),e.finish(25);case 28:case"end":return e.stop()}},e,null,[[0,22,25,28]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement("h1",null,"Register"),r.a.createElement(M,{loading:this.state.loading},r.a.createElement(Ie.a,{className:"mb-3"},r.a.createElement(le.a,{name:"email",placeholder:"User ID",onChange:this.handleChange}),r.a.createElement(Ie.a.Append,null,r.a.createElement(Ie.a.Text,null,"@usask.ca"))),r.a.createElement(oe,{name:"password",placeholder:"password",type:"password",onChange:this.handleChange}),window.FOR_INSTRUCTOR&&r.a.createElement(ge.a.Check,{name:"instructor",label:"I'm an instructor",onChange:function(){return e.setState({instructor:!e.state.instructor})}}),r.a.createElement("br",null),r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:this.handleRegister},"Register"))))}}]),t}(r.a.Component),Be={isConsented:function(){return"1"===localStorage.getItem("consent")},doConsent:function(){localStorage.setItem("consent","1")},undoConsent:function(){localStorage.removeItem("consent")}},Le=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e)),C.loggedIn()&&a.props.routerHistory.replace("/"),a.state={email:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(ce.a)({},n,r))},a.handleLogin=function(){var e=Object(w.a)(y.a.mark(function e(t){var n,r,s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Logging in"}),e.next=4,D.login("".concat(a.state.email,"@usask.ca"),a.state.password);case 4:if(n=e.sent,r=n.token,s=n.role,!window.FOR_INSTRUCTOR||"INSTRUCTOR"===s){e.next=12;break}return alert("You are not an instructor, please use the app for students instead"),e.abrupt("return");case 12:if(window.FOR_INSTRUCTOR||"INSTRUCTOR"!==s){e.next=15;break}return alert("You are not a student, please use the app for the instructor instead"),e.abrupt("return");case 15:C.setToken(r),a.props.routerHistory.replace("/"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0.message);case 22:return e.prev=22,a.componentUnmounted||a.setState({loading:void 0}),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[0,19,22,25]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){return Be.isConsented()?r.a.createElement(M,{loading:this.state.loading},r.a.createElement(Ie.a,{className:"mb-3"},r.a.createElement(le.a,{name:"email",placeholder:"User ID",onChange:this.handleChange}),r.a.createElement(Ie.a.Append,null,r.a.createElement(Ie.a.Text,null,"@usask.ca"))),r.a.createElement(oe,{name:"password",placeholder:"Password",type:"password",onChange:this.handleChange}),r.a.createElement(v.a,{className:"cdFore",variant:"light",size:"sm",onClick:this.handleLogin,block:!0},r.a.createElement(E.f,null))):r.a.createElement("div",null,r.a.createElement("p",{className:"cdBack"}," To start using this app, you must first give your consent to participate in the study: Impact of curriculum overload on students' mental health using the Curriculum Densitometer "),r.a.createElement(z.LinkContainer,{to:"/consent",replace:!0},r.a.createElement(v.a,{className:"cdFore",variant:"light"},"Give consent")))}}]),t}(r.a.Component),He=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return window.FOR_INSTRUCTOR?r.a.createElement("div",null,r.a.createElement(U.a,{style:{margin:"1rem"}},r.a.createElement(I.a,{style:{minHeight:"100vh",minWidth:"98vw"}},r.a.createElement(R.a,{className:"cdFore",style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:{width:"20rem"}},r.a.createElement("h5",null,"Welcome to CD"),r.a.createElement("hr",{style:{borderTop:"solid"}}),r.a.createElement("h6",{style:{fontWeight:"lighter"}},"Welcome to the CD app for instructors. Login and to access"),r.a.createElement("br",null),r.a.createElement(v.a,{style:{borderColor:"white",fontWeight:"bold",color:"white"},variant:"outline-dark"},"Learn more"))),r.a.createElement(R.a,{className:"cdBack",style:{margin:"20% 0 20% 0"}},r.a.createElement(L.a,{src:A.a,style:{width:"10rem"},fluid:!0}),r.a.createElement("h4",{className:"text-center"},"Sign in"),r.a.createElement(Le,{routerHistory:this.props.history}))))):r.a.createElement("div",null,r.a.createElement(U.a,{className:"text-center"},r.a.createElement(L.a,{src:A.a,style:{margin:"5rem",width:"15rem"},fluid:!0}),r.a.createElement(Le,{routerHistory:this.props.history})))}}]),t}(r.a.Component),ze=a(409),We=a.n(ze),Ye=a(410),_e=a.n(Ye),Me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={scale:1},a.increaseScale=function(){return a.setState(function(e){return{scale:e.scale+.2}})},a.decreaseScale=function(){return a.setState(function(e){return{scale:e.scale-.2}})},a.handleConsent=function(){var e=Object(w.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Thank you, redirecting to login"}),e.next=4,q.timeout(1e3);case 4:Be.doConsent(),a.props.history.replace("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:return e.prev=11,a.componentUnmounted||a.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(M,{loading:this.state.loading},r.a.createElement("style",{type:"text/css"},"\n            .customViewer {\n              margin: 0;\n              padding: 0;\n              width: 30rem;\n              text-align: left;\n            }\n            .customViewer > div:nth-child(1) {\n              margin: 0;\n              padding: 0;\n              width: 30rem;\n            }\n            .customPrevBtn {\n              cursor: pointer;\n              display: inline-block;\n              margin: 0;\n              width: 3rem;\n              color: white;\n              background-color: black;\n              border-width: 0.1rem;\n              border-style: solid;\n              border-radius: 0.5rem;\n            }\n            .customNextBtn {\n              cursor: pointer;\n              display: inline-block;\n              margin: 0;\n              width: 3rem;\n              color: white;\n              background-color: black;\n              border-width: 0.1rem;\n              border-style: solid;\n              border-radius: 0.5rem;\n            }\n            .customPages {\n              display: inline-block;\n              width: 15rem;\n            }\n            .customWrapper {\n              height: 3rem;\n              font-size: 1.2rem;\n              background-color: #f0fff9;\n            }\n          "),r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:this.decreaseScale},"-"),r.a.createElement("span",null,"Scale: ",this.state.scale),r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:this.increaseScale},"+"),r.a.createElement(_e.a,{document:{url:We.a},css:"customViewer",scale:this.state.scale,navigation:{css:{previousPageBtn:"customPrevBtn",nextPageBtn:"customNextBtn",pages:"customPages",wrapper:"customWrapper"}}}),r.a.createElement("div",{style:{margin:"2rem",display:"flex",justifyContent:"center"}},r.a.createElement(v.a,{size:"lg",className:"cdFore text-center",variant:"light",onClick:this.handleConsent},"Give consent")))}}]),t}(r.a.Component),Pe=a(235),Ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={credentials:"",csvs:[],loginsCsv:null},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(ce.a)({},n,r))},a.handleCollectTasks=function(){var e=Object(w.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Collecting"}),e.next=4,D.collect(a.state.credentials);case 4:n=e.sent,a.setState({csvs:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:return e.prev=11,a.componentUnmounted||a.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),a.handleCollectLogins=function(){var e=Object(w.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:"Collecting"}),e.next=4,D.collectLogins(a.state.credentials);case 4:n=e.sent,a.setState({loginsCsv:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:return e.prev=11,a.componentUnmounted||a.setState({loading:void 0}),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.componentUnmounted=!0}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(U.a,{className:"text-center"},r.a.createElement("h1",null,"Collector"),r.a.createElement(M,{loading:this.state.loading},r.a.createElement(le.a,{type:"password",placeholder:"Credentials",name:"credentials",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:this.handleCollectTasks},"Collect Tasks"),r.a.createElement(v.a,{className:"cdFore",variant:"light",onClick:this.handleCollectLogins},"Collect Logins"),this.state.loginsCsv&&r.a.createElement(F.a,{border:"success",style:{margin:"2rem 8rem"}},r.a.createElement(F.a.Body,null,r.a.createElement(F.a.Title,null,"Logins"),r.a.createElement(Pe.CSVLink,{filename:"logins.csv",data:this.state.loginsCsv},"Download"))),this.state.csvs.map(function(e){return r.a.createElement(F.a,{key:e.name,border:"success",style:{margin:"2rem 8rem"}},r.a.createElement(F.a.Body,null,r.a.createElement(F.a.Title,null,e.name),r.a.createElement(Pe.CSVLink,{filename:"".concat(e.name,".csv"),data:e.csv},"Download")))}))))}}]),t}(r.a.Component);a(841);function Ve(e){var t=e.component,a=Object(d.a)(e,["component"]);return r.a.createElement(h.a,Object.assign({},a,{render:function(e){return C.loggedIn()?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function qe(e){e.component;var t=Object(d.a)(e,["component"]);return r.a.createElement(h.a,Object.assign({},t,{render:function(e){return C.logout(),r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var Ge=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,!window.FOR_INSTRUCTOR&&r.a.createElement(k,null),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(h.a,{exact:!0,path:"/login",component:He}),r.a.createElement(h.a,{exact:!0,path:"/register",component:Re}),r.a.createElement(h.a,{exact:!0,path:"/consent",component:Me}),r.a.createElement(h.a,{exact:!0,path:"/collect",component:Ae}),r.a.createElement(qe,{exact:!0,path:"/logout"}),r.a.createElement(Ve,{exact:!0,path:"/",component:re}),r.a.createElement(Ve,{exact:!0,path:"/tasks/include",component:fe}),r.a.createElement(Ve,{exact:!0,path:"/tasks/:id/details",component:Ue}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[438,1,2]]]);
//# sourceMappingURL=main.c30fb55c.chunk.js.map