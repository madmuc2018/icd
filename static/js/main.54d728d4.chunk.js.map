{"version":3,"sources":["components/logo.png","components/consent.pdf","stores/auth.js","Data/api.js","components/MyNavBar.js","components/AsyncAwareContainer.js","components/HomePage/HomePage.js","components/utils.js","components/FormRow.js","components/StressSlider.js","components/IncludePage/IncludePage.js","components/DetailsPage/DetailsPage.js","components/RegisterPage/RegisterPage.js","stores/consent.js","components/LoginPage/LoginPage.js","components/ConsentPage/ConsentPage.js","components/CollectorPage/CollectorPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","auth","getToken","localStorage","getItem","setToken","token","setItem","JSON","stringify","loggedIn","trim","logout","removeItem","API","authHeader","headers","Authorization","concat","Auth","axiosError","e","defaultMessage","response","data","message","Error","api","register","_register","Object","asyncToGenerator","regenerator_default","a","mark","_callee","username","password","role","wrap","_context","prev","next","axios","post","t0","stop","_x","_x2","_x3","apply","this","arguments","login","_login","_callee2","_ref","_ref$data","_context2","sent","abrupt","_x4","_x5","getTaskLatest","_getTaskLatest","_callee3","guid","result","_context3","get","_x6","getTasks","_getTasks","_callee4","_context4","updateTask","_updateTask","_callee5","nTask","_context5","put","globalUniqueID","_x7","_x8","includeTask","_includeTask","_callee6","_context6","_x9","getPublishedTasks","_getPublishedTasks","_callee7","_context7","collect","_collect","_callee8","link","_context8","_x10","MyNavBar","react_default","createElement","Navbar","style","backgroundColor","Nav","className","lib","fontWeight","color","to","Button","variant","Collapse","AsyncAwareContainer","loading","undefined","props","length","Modal","show","centered","Body","Spinner","animation","React","children","Component","momentDurationFormatSetup","moment","duration","HomePage","window","FOR_INSTRUCTOR","HomePage_HomePageInstructor","HomePage_HomePageStudent","HomePageInstructor","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","tasks","chartData","activeTasks","filter","t","completed","completedTasks","setState","publishedTasks","map","_tasks$source","source","s","published","name","estimatedStress","estimatedHours","reduce","d","submittedStress","stress","meanStress","ms","status","group","alert","componentUnmounted","_this2","BlueBreakline","borderTop","borderColor","TasksStatistics","Container","Row","Col","margin","Card","total","format","kc1","kc2","Brand","index_esm","display","flexFlow","minHeight","flex","order","Header","padding","as","Title","Text","key","width","size","HomePage_TasksBarChart","keysColors","Image","src","logo","height","fluid","HomePageStudent","_this3","components_AsyncAwareContainer","i","replace","TasksBarChart","increaseScale","_this4","decreaseScale","_ref2","onClick","es6","top","right","left","bottom","strokeDasharray","dataKey","kc","fill","PureComponent","utils","propercase","text","split","item","index","toUpperCase","join","timeout","Promise","resolve","setTimeout","FormRow","FormControl","placeholder","type","onChange","StressSlider","xl","nouislider_react_umd_production_min_default","start","orientation","direction","range","min","max","step","tooltips","from","Number","v","pips","mode","values","density","onEnd","Guard","_React$useState","useState","_React$useState2","slicedToArray","setShow","handleClose","onHide","Footer","IncludePage","regulatedStartDate","regulatedEndDate","focusedInput","notes","handleChange","event","_event$target","target","value","defineProperty","validInput","isNaN","parseFloat","submit","_this$state","valueOf","history","push","finish","render","handle","un","percent","minWidth","components_FormRow","react_dates","startDate","startDateId","endDate","endDateId","onDatesChange","onFocusChange","textAlign","components_StressSlider","body","Table","bordered","CREATED","INPROGRESS","PAUSED","FINISHED","START","STOP","PAUSE","CONTINUE","TaskController","task","fsm","StateMachine","init","includes","transitions","methods","onStart","startTime","Date","getTime","onPause","timeNow","diff","pauseTime","onContinue","onStop","endTime","DetailsPage","changeTask","operation","controller","res","nGuid","pause","continue","console","warn","t1","taskStatus","handleSubmitStress","comments","match","params","id","DetailsPage_StressCollector","submitStress","StressCollector","justifyContent","Form","Group","Control","rows","RegisterPage","email","instructor","handleRegister","Check","label","consent","isConsented","doConsent","undoConsent","LoginPage","handleLogin","alignItems","Consent","block","ConsentPage","scale","handleConsent","mgr_pdf_viewer_react_default","document","url","consentPdf","css","navigation","previousPageBtn","nextPageBtn","pages","wrapper","CollectorPage","credentials","csvs","handleCollect","c","border","react_csv","filename","csv","PrivateRoute","component","rest","objectWithoutProperties","Route","assign","Redirect","pathname","location","LogoutRoute","App","HashRouter","Switch","exact","path","Boolean","hostname","ReactDOM","App_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6aCAzBC,EAAA,CACbC,SADa,WAEX,OAAOC,aAAaC,QAAQ,UAE9BC,SAJa,SAIJC,GACPH,aAAaI,QAAQ,QAA0B,kBAAVD,EAAqBA,EAAQE,KAAKC,UAAUH,KAEnFI,SAPa,WAQX,IAAMJ,EAAQH,aAAaC,QAAQ,SACnC,OAAOE,GAASA,EAAMK,QAExBC,OAXa,WAYXT,aAAaU,WAAW,WCRtBC,EAAM,wCAEZ,SAASC,IACP,MAAO,CAAEC,QAAS,CAAEC,cAAa,UAAAC,OAAYC,EAAKjB,cAGpD,SAASkB,EAAWC,EAAGC,GACrB,GAAID,EAAEE,UAAYF,EAAEE,SAASC,MAAQH,EAAEE,SAASC,KAAKC,QACnD,MAAM,IAAIC,MAAML,EAAEE,SAASC,KAAKC,SAElC,MAAM,IAAIC,MAAMJ,GAAkC,gCAGrC,IAAAK,EAAA,CACbC,SAAQ,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAC,EAAMC,EAAUC,EAAUC,GAA1B,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEAC,IAAMC,KAAN,GAAA1B,OAAcJ,EAAd,kBAAmC,CAAEsB,WAAUC,WAAUC,SAFzD,OAAAE,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAINpB,EAAUoB,EAAAK,IAJJ,wBAAAL,EAAAM,SAAAX,EAAA,iBAAF,gBAAAY,EAAAC,EAAAC,GAAA,OAAApB,EAAAqB,MAAAC,KAAAC,YAAA,GAORC,MAAK,eAAAC,EAAAxB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAqB,EAAMnB,EAAUC,GAAhB,IAAAmB,EAAAC,EAAAnD,EAAAgC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAjB,KAAA,EAAAiB,EAAAhB,KAAA,EAEqCC,IAAMC,KAAN,GAAA1B,OAAcJ,EAAd,eAAgC,CAAEsB,WAAUC,aAFjF,UAAAmB,EAAAE,EAAAC,KAAAF,EAAAD,EAEKhC,KAAQlB,EAFbmD,EAEanD,MAAOgC,EAFpBmB,EAEoBnB,KAClBhC,EAHF,CAAAoD,EAAAhB,KAAA,cAIK,IAAIhB,MAAM,sCAJf,cAAAgC,EAAAE,OAAA,SAMI,CAAEtD,QAAOgC,SANb,QAAAoB,EAAAjB,KAAA,GAAAiB,EAAAb,GAAAa,EAAA,SAQHtC,EAAUsC,EAAAb,IARP,yBAAAa,EAAAZ,SAAAS,EAAA,kBAAF,gBAAAM,EAAAC,GAAA,OAAAR,EAAAJ,MAAAC,KAAAC,YAAA,GAWLW,cAAa,eAAAC,EAAAlC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAA+B,EAAMC,GAAN,IAAAC,EAAA,OAAAnC,EAAAC,EAAAM,KAAA,SAAA6B,GAAA,cAAAA,EAAA3B,KAAA2B,EAAA1B,MAAA,cAAA0B,EAAA3B,KAAA,EAAA2B,EAAA1B,KAAA,EAEUC,IAAM0B,IAAN,GAAAnD,OAAaJ,EAAb,QAAAI,OAAuBgD,EAAvB,WAAsCnD,KAFhD,cAELoD,EAFKC,EAAAT,KAAAS,EAAAR,OAAA,SAGJO,EAAO3C,MAHH,OAAA4C,EAAA3B,KAAA,EAAA2B,EAAAvB,GAAAuB,EAAA,SAKXhD,EAAUgD,EAAAvB,IALC,yBAAAuB,EAAAtB,SAAAmB,EAAA,iBAAF,gBAAAK,GAAA,OAAAN,EAAAd,MAAAC,KAAAC,YAAA,GAQbmB,SAAQ,eAAAC,EAAA1C,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAuC,IAAA,OAAAzC,EAAAC,EAAAM,KAAA,SAAAmC,GAAA,cAAAA,EAAAjC,KAAAiC,EAAAhC,MAAA,cAAAgC,EAAAjC,KAAA,EAAAiC,EAAAhC,KAAA,EAEQC,IAAM0B,IAAN,GAAAnD,OAAaJ,EAAb,OAAuBC,KAF/B,cAAA2D,EAAAd,OAAA,SAAAc,EAAAf,KAE8CnC,MAF9C,OAAAkD,EAAAjC,KAAA,EAAAiC,EAAA7B,GAAA6B,EAAA,SAINtD,EAAUsD,EAAA7B,IAJJ,wBAAA6B,EAAA5B,SAAA2B,EAAA,iBAAF,yBAAAD,EAAAtB,MAAAC,KAAAC,YAAA,GAORuB,WAAU,eAAAC,EAAA9C,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAA2C,EAAMX,EAAMY,GAAZ,IAAAX,EAAA,OAAAnC,EAAAC,EAAAM,KAAA,SAAAwC,GAAA,cAAAA,EAAAtC,KAAAsC,EAAArC,MAAA,cAAAqC,EAAAtC,KAAA,EAAAsC,EAAArC,KAAA,EAEaC,IAAMqC,IAAN,GAAA9D,OAAaJ,EAAb,QAAAI,OAAuBgD,GAAQY,EAAO/D,KAFnD,cAEFoD,EAFEY,EAAApB,KAAAoB,EAAAnB,OAAA,SAGDO,EAAO3C,KAAKyD,gBAHX,OAAAF,EAAAtC,KAAA,EAAAsC,EAAAlC,GAAAkC,EAAA,SAKR3D,EAAU2D,EAAAlC,IALF,yBAAAkC,EAAAjC,SAAA+B,EAAA,iBAAF,gBAAAK,EAAAC,GAAA,OAAAP,EAAA1B,MAAAC,KAAAC,YAAA,GAQVgC,YAAW,eAAAC,EAAAvD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAoD,EAAMR,GAAN,OAAA9C,EAAAC,EAAAM,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA9C,KAAA,EAAA8C,EAAA7C,KAAA,EAEHC,IAAMC,KAAN,GAAA1B,OAAcJ,EAAd,eAAgCgE,EAAO/D,KAFpC,OAAAwE,EAAA7C,KAAA,eAAA6C,EAAA9C,KAAA,EAAA8C,EAAA1C,GAAA0C,EAAA,SAITnE,EAAUmE,EAAA1C,IAJD,wBAAA0C,EAAAzC,SAAAwC,EAAA,iBAAF,gBAAAE,GAAA,OAAAH,EAAAnC,MAAAC,KAAAC,YAAA,GAOXqC,kBAAiB,eAAAC,EAAA5D,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAyD,IAAA,OAAA3D,EAAAC,EAAAM,KAAA,SAAAqD,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAlD,MAAA,cAAAkD,EAAAnD,KAAA,EAAAmD,EAAAlD,KAAA,EAEDC,IAAM0B,IAAN,GAAAnD,OAAaJ,EAAb,iBAAiCC,KAFhC,cAAA6E,EAAAhC,OAAA,SAAAgC,EAAAjC,KAE+CnC,MAF/C,OAAAoE,EAAAnD,KAAA,EAAAmD,EAAA/C,GAAA+C,EAAA,SAIfxE,EAAUwE,EAAA/C,IAJK,wBAAA+C,EAAA9C,SAAA6C,EAAA,iBAAF,yBAAAD,EAAAxC,MAAAC,KAAAC,YAAA,GAOjByC,QAAO,eAAAC,EAAAhE,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAA6D,EAAMC,GAAN,OAAAhE,EAAAC,EAAAM,KAAA,SAAA0D,GAAA,cAAAA,EAAAxD,KAAAwD,EAAAvD,MAAA,cAAAuD,EAAAxD,KAAA,EAAAwD,EAAAvD,KAAA,EAESC,IAAMC,KAAN,GAAA1B,OAAcJ,EAAd,cAA+B,CAAEkF,SAF1C,cAAAC,EAAArC,OAAA,SAAAqC,EAAAtC,KAEmDnC,MAFnD,OAAAyE,EAAAxD,KAAA,EAAAwD,EAAApD,GAAAoD,EAAA,SAIL7E,EAAU6E,EAAApD,IAJL,wBAAAoD,EAAAnD,SAAAiD,EAAA,iBAAF,gBAAAG,GAAA,OAAAJ,EAAA5C,MAAAC,KAAAC,YAAA,oFCrEM+C,EAAA,kBACbC,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAACC,EAAA,EAAD,CAAQC,MAAO,CAACC,gBAAmB,YACjCJ,EAAAnE,EAAAoE,cAACI,EAAA,EAAD,CAAKC,UAAU,WACbN,EAAAnE,EAAAoE,cAACM,EAAA,cAAD,CAAeJ,MAAO,CAACC,gBAAmB,UAAWI,WAAc,OAAQC,MAAS,SAAUC,GAAG,KAC/FV,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,QAAhB,UAGJZ,EAAAnE,EAAAoE,cAACC,EAAA,EAAOW,SAAR,CAAiBP,UAAU,uBACzBN,EAAAnE,EAAAoE,cAACM,EAAA,cAAD,CAAeJ,MAAO,CAACC,gBAAmB,UAAWI,WAAc,OAAQC,MAAS,SAAUC,GAAG,WAC/FV,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,kBAINX,EAAAnE,EAAAoE,cAAA,+BCgBWa,mLA7BX,IAAMC,OAAiCC,IAAvBjE,KAAKkE,MAAMF,SAAgD,OAAvBhE,KAAKkE,MAAMF,QAC3D1F,EAAU,UAKd,MAJkC,kBAAvB0B,KAAKkE,MAAMF,SAAwBhE,KAAKkE,MAAMF,QAAQxG,OAAO2G,OAAS,IAC/E7F,EAAU0B,KAAKkE,MAAMF,SAIrBf,EAAAnE,EAAAoE,cAAA,WAEIc,EAEIf,EAAAnE,EAAAoE,cAACkB,EAAA,EAAD,CAAOC,KAAML,EAASM,UAAQ,GAC5BrB,EAAAnE,EAAAoE,cAACkB,EAAA,EAAMG,KAAP,KACEtB,EAAAnE,EAAAoE,cAAA,OAAKK,UAAU,eACbN,EAAAnE,EAAAoE,cAACsB,EAAA,EAAD,CAASC,UAAU,SAASZ,QAAQ,YADtC,OAGG,IACAvF,KAKPoG,IAAMxB,cAAc,MAAO,KAAMlD,KAAKkE,MAAMS,kBAxBxBC,kFCQlCC,IAA0BC,KAE1B,IACMC,EAAU,qCAWVC,mLAEF,OAAQC,OAAOC,eAAkBjC,EAAAnE,EAAAoE,cAACiC,EAAD,MAAwBlC,EAAAnE,EAAAoE,cAACkC,EAAD,aAFtCR,aAMjBS,cACJ,SAAAA,IAAc,IAAAC,EAAA,OAAA3G,OAAA4G,EAAA,EAAA5G,CAAAqB,KAAAqF,IACZC,EAAA3G,OAAA6G,EAAA,EAAA7G,CAAAqB,KAAArB,OAAA8G,EAAA,EAAA9G,CAAA0G,GAAAK,KAAA1F,QAEK2F,MAAQ,CACXC,MAAO,GACPC,UAAW,IAGbP,EAAKQ,YAAc,kBACjBR,EAAKK,MAAMC,MAAMG,OAAO,SAAAC,GAAC,OAAKA,EAAEC,aAElCX,EAAKY,eAAiB,kBACpBZ,EAAKK,MAAMC,MAAMG,OAAO,SAAAC,GAAC,OAAIA,EAAEC,aAZrBX,qNAiBVtF,KAAKmG,SAAS,CAACnC,SAAS,aACKxF,EAAI8D,2BAA3B8D,SACAR,EAAQQ,EACXC,IAAI,SAAAT,GAAS,IAAAU,EAIRV,EAFFW,OAAiBC,EAFPF,EAECjI,KAAS0C,EAFVuF,EAEUvF,KACpB0F,EACEb,EADFa,UAEMC,EAA0CF,EAA1CE,KAAMC,EAAoCH,EAApCG,gBAAiBC,EAAmBJ,EAAnBI,eACzB7B,EAAW0B,EAAUI,OAAO,SAACC,EAAGjK,GAAJ,MAAqC,kBAApBA,EAAEwB,KAAK0G,SAAwB+B,EAAIjK,EAAEwB,KAAK0G,SAAW+B,GAAI,GACtGC,EAAkBN,EAAUV,OAAO,SAAAlJ,GAAC,MAA6B,kBAAlBA,EAAEwB,KAAK2I,SACtDC,EAAaF,EAAgBF,OAAO,SAACK,EAAIrK,GAAL,OAAWqK,EAAKrK,EAAEwB,KAAK2I,QAAQ,GAAKD,EAAgB5C,OAE9F,MAAO,CACLpD,OAAM2F,OAAME,iBAAgBD,kBAAiB5B,WAAUkB,UAFvCQ,EAAUI,OAAO,SAAC/H,EAAGjC,GAAJ,MAA4B,aAAlBA,EAAEwB,KAAK8I,QAAyBrI,IAAG,GAEZmI,gBAIlEpB,EAAYD,EAAMS,IAAI,SAAAL,GAC1B,IAAMoB,EAAQ,GAMd,OALAA,EAAMV,KAAOV,EAAEU,KACfU,EAvDgB,oBAuDSpB,EAAEW,gBAC3BS,EAAMrC,GAA6BiB,EAAEjB,SApDnB,IACM,GACF,GAmDtBqC,EA3De,mBA2DSpB,EAAEY,eAC1BQ,EAzDW,eAyDSpB,EAAEiB,WACfG,IAETpH,KAAKmG,SAAS,CACZP,QACAC,gEAGFwB,MAAKhI,EAAAK,6BAEAM,KAAKsH,oBACRtH,KAAKmG,SAAS,CAACnC,aAASC,kLAK5BjE,KAAKsH,oBAAqB,mCAGnB,IAAAC,EAAAvH,KACDwH,EAAgB,kBAAOvE,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACqE,UAAa,QAASC,YAAe,cAkCxEC,EAAkB,kBACtB1E,EAAAnE,EAAAoE,cAAC0E,EAAA,EAAD,KACE3E,EAAAnE,EAAAoE,cAAC2E,EAAA,EAAD,KACE5E,EAAAnE,EAAAoE,cAAC4E,EAAA,EAAD,CAAKvE,UAAU,cAAcH,MAAO,CAAC2E,OAAU,WAC7C9E,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAM5E,MAAO,CAACC,gBAAmB,UAAUK,MAAS,UAClDT,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKzD,KAAN,KAAWtB,EAAAnE,EAAAoE,cAAA,UAAKqE,EAAK5B,MAAMC,MAAMzB,UAEnClB,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACM,MAAS,YAArB,gBAEFT,EAAAnE,EAAAoE,cAAC4E,EAAA,EAAD,CAAKvE,UAAU,cAAcH,MAAO,CAAC2E,OAAU,WAC7C9E,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAM5E,MAAO,CAACC,gBAAmB,UAAUK,MAAS,UAClDT,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKzD,KAAN,KACEtB,EAAAnE,EAAAoE,cAAA,UAEE4B,IAAOC,SACLwC,EAAK5B,MAAMC,MACRS,IAAI,SAAAL,GAAC,MAA0B,kBAAfA,EAAEjB,SAAwBiB,EAAEjB,SAAW,IACvD8B,OAAO,SAACoB,EAAOnB,GAAR,OAAcmB,EAAQnB,GAAG,IACnCoB,OAAO,uCAKfjF,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACM,MAAS,YAArB,mCAMDyE,EAAa,GAARC,EAAY,GACxBD,EAAI,GAAK,CAhJU,kBAgJO,WAC1BA,EAAI,GAAK,CAACpD,EAAU,WACpBqD,EAAI,GAAK,CAhJW,mBAgJO,WAC3BA,EAAI,GAAK,CAhJM,cAgJO,WAiBtB,OACEnF,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAACC,EAAA,EAAD,CAAQC,MAAO,CAACC,gBAAmB,YACjCJ,EAAAnE,EAAAoE,cAACC,EAAA,EAAOkF,MAAR,KAAcpF,EAAAnE,EAAAoE,cAACoF,EAAA,EAAD,MAAd,uBACArF,EAAAnE,EAAAoE,cAACC,EAAA,EAAOW,SAAR,CAAiBP,UAAU,uBACzBN,EAAAnE,EAAAoE,cAACM,EAAA,cAAD,CAAeJ,MAAO,CAACC,gBAAmB,UAAWI,WAAc,OAAQC,MAAS,SAAUC,GAAG,WAC/FV,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,kBAINX,EAAAnE,EAAAoE,cAAA,OAAKE,MAAO,CACVmF,QAAW,OACXC,SAAY,WACZC,UAAa,QACbV,OAAU,WAER9E,EAAAnE,EAAAoE,cAhGU,kBAChBD,EAAAnE,EAAAoE,cAAA,OAAKE,MAAO,CACVsF,KAAQ,UACRC,MAAS,MAET1F,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAM5E,MAAO,CAACqF,UAAa,UACzBxF,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKY,OAAN,CAAaxF,MAAO,CAClBC,gBAAmB,UACnBK,MAAS,QACTmF,QAAW,QACVC,GAAG,MAJN,aAKA7F,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKzD,KAAN,CAAWnB,MAAO,CAChBM,MAAS,UACTqE,OAAU,WAEV9E,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKe,MAAN,qBACA9F,EAAAnE,EAAAoE,cAACsE,EAAD,MAEID,EAAKzB,cAAcO,IAAI,SAAAL,GAAC,OAAK/C,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKgB,KAAN,CAAWC,IAAKjD,EAAEjF,MAAOiF,EAAEU,QAE5DzD,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKe,MAAN,wBACA9F,EAAAnE,EAAAoE,cAACsE,EAAD,MAEID,EAAKrB,iBAAiBG,IAAI,SAAAL,GAAC,OAAK/C,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKgB,KAAN,CAAWC,IAAKjD,EAAEjF,MAAOiF,EAAEU,YAyE/D,MACAzD,EAAAnE,EAAAoE,cAhCO,kBACbD,EAAAnE,EAAAoE,cAAA,OAAKE,MAAO,CACVsF,KAAQ,QACRC,MAAS,MAET1F,EAAAnE,EAAAoE,cAACM,EAAA,cAAD,CAAeG,GAAG,kBAChBV,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQR,MAAO,CAACM,MAAS,UAAWwF,MAAS,QAASC,KAAK,KAAKtF,QAAQ,gBAAxE,aAAiGZ,EAAAnE,EAAAoE,cAACoF,EAAA,EAAD,QAEnGrF,EAAAnE,EAAAoE,cAACyE,EAAD,MACA1E,EAAAnE,EAAAoE,cAAA,yBACAD,EAAAnE,EAAAoE,cAACkG,EAAD,CAAe/K,KAAMkJ,EAAK5B,MAAME,UAAWwD,WAAYlB,IACvDlF,EAAAnE,EAAAoE,cAACkG,EAAD,CAAe/K,KAAMkJ,EAAK5B,MAAME,UAAWwD,WAAYjB,MAqBnD,OAEJnF,EAAAnE,EAAAoE,cAACoG,EAAA,EAAD,CAAOC,IAAKC,IAAMpG,MAAO,CAACqG,OAAQ,QAASC,OAAK,YArKvB9E,aA2K3B+E,cACJ,SAAAA,IAAc,IAAAC,EAAA,OAAAjL,OAAA4G,EAAA,EAAA5G,CAAAqB,KAAA2J,IACZC,EAAAjL,OAAA6G,EAAA,EAAA7G,CAAAqB,KAAArB,OAAA8G,EAAA,EAAA9G,CAAAgL,GAAAjE,KAAA1F,QAEK2F,MAAQ,CACXC,MAAO,IAGTgE,EAAK9D,YAAc,kBACjB8D,EAAKjE,MAAMC,MAAMG,OAAO,SAAAC,GAAC,MAAsB,aAAlBA,EAAE3H,KAAK8I,UAEtCyC,EAAK1D,eAAiB,kBACpB0D,EAAKjE,MAAMC,MAAMG,OAAO,SAAAC,GAAC,MAAuB,aAAlBA,EAAE3H,KAAK8I,UAX3ByC,iNAgBV5J,KAAKmG,SAAS,CAACnC,SAAS,aACJxF,EAAI4C,kBAAlBwE,SACN5F,KAAKmG,SAAS,CACZP,0DAGFyB,MAAK9G,EAAAb,6BAEAM,KAAKsH,oBACRtH,KAAKmG,SAAS,CAACnC,aAASC,iLAK5BjE,KAAKsH,oBAAqB,mCAI1B,OACErE,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAACF,EAAD,MACAC,EAAAnE,EAAAoE,cAAC0E,EAAA,EAAD,KACE3E,EAAAnE,EAAAoE,cAAC2G,EAAD,CAAqB7F,QAAShE,KAAK2F,MAAM3B,SACvCf,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACM,MAAS,YAArB,gBAEE1D,KAAK8F,cACFO,IAAI,SAAAyD,GAAC,OACN7G,EAAAnE,EAAAoE,cAAA,OAAK+F,IAAKa,EAAE/I,MACVkC,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAM5E,MAAO,CAACC,gBAAmB,UAAWK,MAAS,YACnDT,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKzD,KAAN,KACEtB,EAAAnE,EAAAoE,cAAA,cAAKD,EAAAnE,EAAAoE,cAACoF,EAAA,EAAD,MAAL,IAAsBwB,EAAEzL,KAAKqI,KAA7B,KACAzD,EAAAnE,EAAAoE,cAACM,EAAA,cAAD,CAAeG,GAAE,UAAA5F,OAAY+L,EAAE/I,KAAd,YAA8BgJ,SAAO,GACpD9G,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,WAAhB,iBAINZ,EAAAnE,EAAAoE,cAAA,cAGND,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACM,MAAS,YAArB,mBAEE1D,KAAKkG,iBACFG,IAAI,SAAAyD,GAAC,OACN7G,EAAAnE,EAAAoE,cAAA,OAAK+F,IAAKa,EAAE/I,MACVkC,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAM5E,MAAO,CAACC,gBAAmB,UAAWK,MAAS,YACnDT,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKzD,KAAN,KACEtB,EAAAnE,EAAAoE,cAACM,EAAA,cAAD,CAAeJ,MAAO,CAACC,gBAAmB,UAAWK,MAAS,WAAYC,GAAE,UAAA5F,OAAY+L,EAAE/I,KAAd,YAA8BgJ,SAAO,GAC/G9G,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQuF,KAAK,KAAKtF,QAAQ,SAAQZ,EAAAnE,EAAAoE,cAACoF,EAAA,EAAD,MAAlC,IAAmDwB,EAAEzL,KAAKqI,SAIhEzD,EAAAnE,EAAAoE,cAAA,wBApEY0B,aA8ExBoF,6MACJrE,MAAQ,CACNwD,KAAM,OAERc,cAAgB,kBAAMC,EAAK/D,SAAS,SAAA9F,GAAA,MAAe,CAAE8I,KAAjB9I,EAAG8I,KAA2B,UAClEgB,cAAgB,kBAAMD,EAAK/D,SAAS,SAAAiE,GAAA,MAAe,CAAEjB,KAAjBiB,EAAGjB,KAA2B,gFAGhE,OACElG,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,QAAQsF,KAAK,KAAKkB,QAASrK,KAAKmK,eAAhD,KACAlH,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,QAAQsF,KAAK,KAAKkB,QAASrK,KAAKiK,eAAhD,KACAhH,EAAAnE,EAAAoE,cAACoH,EAAA,EAAD,CACEpB,MAAOlJ,KAAK2F,MAAMwD,KAAO,IACzBM,OAAQzJ,KAAK2F,MAAMwD,KACnB9K,KAAM2B,KAAKkE,MAAM7F,KACjB0J,OAAQ,CACNwC,IAAK,EAAGC,MAAO,GAAIC,KAAM,GAAIC,OAAQ,IAGvCzH,EAAAnE,EAAAoE,cAACoH,EAAA,EAAD,CAAeK,gBAAgB,QAC/B1H,EAAAnE,EAAAoE,cAACoH,EAAA,EAAD,CAAOM,QAAQ,SACf3H,EAAAnE,EAAAoE,cAACoH,EAAA,EAAD,MACArH,EAAAnE,EAAAoE,cAACoH,EAAA,EAAD,MACArH,EAAAnE,EAAAoE,cAACoH,EAAA,EAAD,MACEtK,KAAKkE,MAAMmF,WAAWhD,IAAI,SAAAwE,GAAE,OAAI5H,EAAAnE,EAAAoE,cAACoH,EAAA,EAAD,CAAKM,QAASC,EAAG,GAAIC,KAAMD,EAAG,gBAzB9CE,iBAgCb/F,iCCxTAgG,GAAA,CACbC,WAAY,SAAAC,GAAI,OAAIA,EAAKC,MAAM,IAAI9E,IAAI,SAAC+E,EAAMC,GAAP,OAA4B,IAAVA,EAAcD,EAAKE,cAAgBF,IAAOG,KAAK,KACxGC,QAAS,SAAAtE,GAAE,OAAI,IAAIuE,QAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASxE,OCwB7C0E,oLAlBX,OACE3I,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAAC2E,EAAA,EAAD,KACE5E,EAAAnE,EAAAoE,cAAC4E,EAAA,EAAD,KACE7E,EAAAnE,EAAAoE,cAAC2I,GAAA,EAAD,CACEC,YAAa9L,KAAKkE,MAAM4H,YAAcd,GAAMC,WAAWjL,KAAKkE,MAAM4H,aAAe,GACjFC,KAAM/L,KAAKkE,MAAM6H,KAAO/L,KAAKkE,MAAM6H,KAAO,OAC1CrF,KAAM1G,KAAKkE,MAAMwC,KACjBsF,SAAUhM,KAAKkE,MAAM8H,aAI3B/I,EAAAnE,EAAAoE,cAAA,mBAdc0B,+EC6DPqH,oLA5DX,OAAOhJ,EAAAnE,EAAAoE,cAAC4E,EAAA,EAAD,CAAKoE,GAAI,GACdjJ,EAAAnE,EAAAoE,cAAA,SAAO6I,KAAK,YAAZ,2mBAyBA9I,EAAAnE,EAAAoE,cAACiJ,GAAArN,EAAD,CACEyE,UAAU,cACVH,MAAO,CAACqG,OAAU,QAClB2C,MAAOpM,KAAKkE,MAAMkI,MAClBC,YAAY,WACZC,UAAU,MACVC,MAAO,CACLC,IAAK,EACLC,IAAK,IAEPC,KAAM,GACNC,SAAU,CACRC,KAAMC,OACNlJ,GAAI,SAAAmJ,GACF,OAAI,GAAKA,GAAKA,EAAI,EACT,OACE,GAAKA,GAAKA,EAAI,EAChB,WAEA,SAIbC,KAAM,CACJC,KAAM,SACNC,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACvCC,QAAS,GAEXC,MAAOnN,KAAKkE,MAAMiJ,kBAxDCvI,aC8I3B,SAASwI,KAAQ,IAAAC,EACS3I,IAAM4I,UAAS,GADxBC,EAAA5O,OAAA6O,GAAA,EAAA7O,CAAA0O,EAAA,GACRhJ,EADQkJ,EAAA,GACFE,EADEF,EAAA,GAGTG,EAAc,kBAAMD,GAAQ,IAGlC,OACExK,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,UAAUwG,QAJX,kBAAMoD,GAAQ,KAI7B,UAIAxK,EAAAnE,EAAAoE,cAACkB,EAAA,EAAD,CAAOC,KAAMA,EAAMsJ,OAAQD,GACzBzK,EAAAnE,EAAAoE,cAACkB,EAAA,EAAMG,KAAP,uGACAtB,EAAAnE,EAAAoE,cAACkB,EAAA,EAAMwJ,OAAP,KACE3K,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,YAAYwG,QAASqD,GAArC,YASKG,mBA/Jb,SAAAA,EAAY3J,GAAO,IAAAoB,EAAA,OAAA3G,OAAA4G,EAAA,EAAA5G,CAAAqB,KAAA6N,IACjBvI,EAAA3G,OAAA6G,EAAA,EAAA7G,CAAAqB,KAAArB,OAAA8G,EAAA,EAAA9G,CAAAkP,GAAAnI,KAAA1F,KAAMkE,KACDyB,MAAQ,CACXe,KAAM,GACNE,eAAgB,GAChBkH,mBAAoB,KACpBC,iBAAkB,KAClBC,aAAc,KACdC,MAAO,GACPtH,gBAAiB,GAGnBrB,EAAK4I,aAAe,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtB3H,EADmB0H,EACnB1H,KAAM4H,EADaF,EACbE,MACdhJ,EAAKa,SAALxH,OAAA4P,GAAA,EAAA5P,CAAA,GACG+H,EAAO4H,KAIZhJ,EAAKkJ,WAAa,kBAAMlJ,EAAKK,MAAMe,KAAKlJ,OAAO2G,OAAS,GACnDmB,EAAKK,MAAMiB,eAAepJ,OAAO2G,OAAS,IACzCsK,MAAMC,WAAWpJ,EAAKK,MAAMiB,eAAepJ,UAC5C8H,EAAKK,MAAMmI,oBACXxI,EAAKK,MAAMoI,kBAEhBzI,EAAKqJ,OAAL,eAAAtO,EAAA1B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAc,SAAAC,EAAMmP,GAAN,IAAAS,EAAAlI,EAAAE,EAAAqH,EAAAtH,EAAA,OAAA9H,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEVgG,EAAKa,SAAS,CAACnC,QAAS,mBAFd4K,EAG+CtJ,EAAKK,MAAtDe,EAHEkI,EAGFlI,KAAME,EAHJgI,EAGIhI,eAAgBqH,EAHpBW,EAGoBX,MAAOtH,EAH3BiI,EAG2BjI,gBAH3BtH,EAAAE,KAAA,EAIJf,EAAIyD,YAAY,CACpByE,OAAME,eAAgB8H,WAAW9H,EAAepJ,QAASyQ,QAAOtH,kBAChEmH,mBAAoBxI,EAAKK,MAAMmI,mBAAmBe,UAClDd,iBAAkBzI,EAAKK,MAAMoI,iBAAiBc,YAPtC,OASVvJ,EAAKpB,MAAM4K,QAAQC,KAAK,KATd1P,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAWVgI,MAAKhI,EAAAK,IAXK,eAAAL,EAAAC,KAAA,GAaLgG,EAAKgC,oBACRhC,EAAKa,SAAS,CAACnC,aAASC,IAdhB5E,EAAA2P,OAAA,6BAAA3P,EAAAM,SAAAX,EAAA,uBAAd,gBAAAY,GAAA,OAAAS,EAAAN,MAAAC,KAAAC,YAAA,GAkBAqF,EAAK6H,MAAQ,kBAAM,SAAC8B,EAAQC,EAAQZ,EAAOa,EAAIC,GAC7C9J,EAAKa,SAAS,CACZQ,gBAAiByI,EAAQ,OA7CZ9J,sFAmDjBtF,KAAKsH,oBAAqB,mCAGnB,IAAAC,EAAAvH,KACP,OAAIiF,OAAOC,eAEPjC,EAAAnE,EAAAoE,cAAA,OAAKE,MAAO,CACVM,MAAS,UACTqE,OAAU,aAEV9E,EAAAnE,EAAAoE,cAAA,MAAIK,UAAU,eAAd,qBACAN,EAAAnE,EAAAoE,cAAC2G,EAAD,CAAqB7F,QAAShE,KAAK2F,MAAM3B,SACvCf,EAAAnE,EAAAoE,cAAC0E,EAAA,EAAD,CAAWxE,MAAO,CAChBiM,SAAY,QACZtH,OAAU,aAEV9E,EAAAnE,EAAAoE,cAAC2E,EAAA,EAAD,KACE5E,EAAAnE,EAAAoE,cAAC4E,EAAA,EAAD,KACE7E,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,OAAOoF,YAAY,gBAAgBE,SAAUhM,KAAKkO,eAChEjL,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,iBAAiBoF,YAAY,kBAAkBE,SAAUhM,KAAKkO,eAC5EjL,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,QAAQoF,YAAY,QAAQE,SAAUhM,KAAKkO,eACzDjL,EAAAnE,EAAAoE,cAACqM,GAAA,gBAAD,CACEC,UAAWxP,KAAK2F,MAAMmI,mBACtB2B,YAAY,4BACZC,QAAS1P,KAAK2F,MAAMoI,iBACpB4B,UAAU,0BACVC,cAAe,SAAAxF,GAAA,IAAGoF,EAAHpF,EAAGoF,UAAWE,EAAdtF,EAAcsF,QAAd,OAA4BnI,EAAKpB,SAAS,CAAE2H,mBAAoB0B,EAAWzB,iBAAkB2B,KAC5G1B,aAAchO,KAAK2F,MAAMqI,aACzB6B,cAAe,SAAA7B,GAAY,OAAIzG,EAAKpB,SAAS,CAAE6H,oBAEjD/K,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAAC0M,UAAa,UAAzB,0BAA2D9P,KAAK2F,MAAMgB,kBAIxE1D,EAAAnE,EAAAoE,cAAC6M,GAAD,CAAc3D,MAAOpM,KAAK2F,MAAMgB,gBAAiBwG,MAAOnN,KAAKmN,QAG7DlK,EAAAnE,EAAAoE,cAAC4E,EAAA,EAAD,KACE7E,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAMzE,UAAU,cAAcyM,MAAI,GAAC/M,EAAAnE,EAAAoE,cAAA,qGACnCD,EAAAnE,EAAAoE,cAAA,WACAD,EAAAnE,EAAAoE,cAAA,sDACAD,EAAAnE,EAAAoE,cAAC+M,GAAA,EAAD,CAAOC,UAAQ,EAAC9M,MAAO,CAACM,MAAS,YAC/BT,EAAAnE,EAAAoE,cAAA,aACED,EAAAnE,EAAAoE,cAAA,UACED,EAAAnE,EAAAoE,cAAA,mBACAD,EAAAnE,EAAAoE,cAAA,uBAGJD,EAAAnE,EAAAoE,cAAA,aACED,EAAAnE,EAAAoE,cAAA,UACED,EAAAnE,EAAAoE,cAAA,gCACAD,EAAAnE,EAAAoE,cAAA,yBAAgBD,EAAAnE,EAAAoE,cAAA,gBAAhB,mCAEFD,EAAAnE,EAAAoE,cAAA,UACED,EAAAnE,EAAAoE,cAAA,uCACAD,EAAAnE,EAAAoE,cAAA,4BAAmBD,EAAAnE,EAAAoE,cAAA,mBAAnB,gCAEFD,EAAAnE,EAAAoE,cAAA,UACED,EAAAnE,EAAAoE,cAAA,oCACAD,EAAAnE,EAAAoE,cAAA,6BAAoBD,EAAAnE,EAAAoE,cAAA,qBAApB,qCAOZD,EAAAnE,EAAAoE,cAAA,WAAKD,EAAAnE,EAAAoE,cAAA,WACLD,EAAAnE,EAAAoE,cAAA,OAAKK,UAAU,eAEXvD,KAAKwO,aAAevL,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQyG,QAASrK,KAAK2O,QAAtB,YAAkD1L,EAAAnE,EAAAoE,cAACkK,GAAD,SAQhFnK,EAAAnE,EAAAoE,cAAA,mBAjIoB0B,4CCF1BC,IAA0BC,KAE1B,IAGOqL,GAA0C,UAAjCC,GAA4C,aAAhCC,GAA8C,SAAtCC,GAAgD,WAE7EC,GAAiC,QAA1BC,GAAmC,OAA7BC,GAAqC,QAA9BC,GAAuC,WAE5DC,GACJ,SAAAA,EAAYC,GAAOjS,OAAA4G,EAAA,EAAA5G,CAAAqB,KAAA2Q,GACjB3Q,KAAK4Q,KAAOA,EAEZ,IAAwBpK,EAExBxG,KAAK6Q,IAAM,IAAIC,KAAa,CAC1BC,MAHsBvK,EAGAoK,EAAKzJ,OAHA,CAACgJ,GAASC,GAAYC,GAAQC,IAAUU,SAASxK,GAGvCoK,EAAKzJ,OAASgJ,IACnDc,YAAa,CACX,CAAEvK,KAAM6J,GAAU3D,KAAMuD,GAAYxM,GAAIyM,IACxC,CAAE1J,KAAM+J,GAAU7D,KAAMwD,GAAYzM,GAAI0M,IACxC,CAAE3J,KAAMgK,GAAU9D,KAAMyD,GAAY1M,GAAIyM,IACxC,CAAE1J,KAAM8J,GAAU5D,KAAMyD,GAAY1M,GAAI2M,KAE1CY,QAAS,CACPC,QADO,WAELP,EAAKQ,WAAa,IAAIC,MAAQC,UAC9BV,EAAKzJ,OAASnH,KAAK2F,OAErB4L,QALO,WAML,IAAMC,GAAW,IAAIH,MAAQC,UAC7B,GAAKV,EAAK7L,SAIL,CACH,IAAM0M,EAAOD,EAAUZ,EAAKc,UAC5Bd,EAAK7L,UAAY0M,MANC,CAClB,IAAMA,EAAOD,EAAUZ,EAAKQ,UAC5BR,EAAK7L,SAAW0M,EAMlBb,EAAKc,UAAYF,EAEjBZ,EAAKzJ,OAASnH,KAAK2F,OAErBgM,WAnBO,WAoBLf,EAAKzJ,OAASnH,KAAK2F,OAErBiM,OAtBO,WAuBL,IAAMJ,GAAW,IAAIH,MAAQC,UAE7B,GADAV,EAAKiB,QAAUL,EACVZ,EAAK7L,UAIL,GAAI/E,KAAK2F,QAAU0K,GAAQ,CAC9B,IAAMoB,EAAOD,EAAUZ,EAAKc,UAC5Bd,EAAK7L,UAAY0M,OANC,CAClB,IAAMA,EAAOD,EAAUZ,EAAKQ,UAC5BR,EAAK7L,SAAW0M,EAOlBb,EAAKzJ,OAASnH,KAAK2F,WAOvBmM,eACJ,SAAAA,IAAc,IAAAxM,EAAA,OAAA3G,OAAA4G,EAAA,EAAA5G,CAAAqB,KAAA8R,IACZxM,EAAA3G,OAAA6G,EAAA,EAAA7G,CAAAqB,KAAArB,OAAA8G,EAAA,EAAA9G,CAAAmT,GAAApM,KAAA1F,QAIK2F,MAAQ,CACX5E,KAAM,GACN6P,KAAM,IAGRtL,EAAKyM,WAAL,eAAA1R,EAAA1B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAkB,SAAAC,EAAOgT,GAAP,IAAAC,EAAAC,EAAAC,EAAA,OAAAtT,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAAF,EAAAC,KAAA,EAEdgG,EAAKa,SAAS,CAACnC,QAAS,iBAClBiO,EAAa,IAAItB,GAAerL,EAAKK,MAAMiL,MAHnCvR,EAAAK,GAKPsS,EALO3S,EAAAE,KAAAF,EAAAK,KAMP6Q,GANO,EAAAlR,EAAAK,KAOP8Q,GAPO,EAAAnR,EAAAK,KAQP+Q,GARO,GAAApR,EAAAK,KASPgR,GATO,0BAMAwB,EAAMD,EAAWpB,IAAIzE,QANrB/M,EAAAoB,OAAA,0BAODyR,EAAMD,EAAWpB,IAAIlR,OAPpBN,EAAAoB,OAAA,2BAQAyR,EAAMD,EAAWpB,IAAIuB,QARrB/S,EAAAoB,OAAA,2BASGyR,EAAMD,EAAWpB,IAAIwB,WATxBhT,EAAAoB,OAAA,2BAAApB,EAAAoB,OAAA,SAWH6R,QAAQC,KAAR,MAAAxU,OAAmBiU,KAXhB,WAcTE,EAdS,CAAA7S,EAAAE,KAAA,gBAAAF,EAAAoB,OAAA,yBAAApB,EAAAE,KAAA,GAkBMf,EAAIgD,WAAW8D,EAAKK,MAAM5E,KAAMkR,EAAWrB,MAlBjD,QAkBRuB,EAlBQ9S,EAAAmB,KAmBd8E,EAAKpB,MAAM4K,QAAQ/E,QAAnB,UAAAhM,OAAqCoU,EAArC,aAEA7M,EAAKa,SAAS,CAACpF,KAAMoR,IArBP9S,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAmT,GAAAnT,EAAA,SAuBdgI,MAAKhI,EAAAmT,IAvBS,eAAAnT,EAAAC,KAAA,GAyBTgG,EAAKgC,oBACRhC,EAAKa,SAAS,CAACnC,aAASC,IA1BZ5E,EAAA2P,OAAA,6BAAA3P,EAAAM,SAAAX,EAAA,wBAAlB,gBAAAY,GAAA,OAAAS,EAAAN,MAAAC,KAAAC,YAAA,GA8BAqF,EAAKmN,WAAa,WAGhB,OAFe,IAAI9B,GAAerL,EAAKK,MAAMiL,MAAOC,IAAIlL,OAGtD,KAAKwK,GACH,MAAO,gCACT,KAAKC,GAEL,KAAKC,GACH,MAAO,wCACT,KAAKC,GACH,MAAO,6BACT,QACE,MAAO,UAIbhL,EAAKoN,mBAAL,eAAAtI,EAAAzL,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAA0B,SAAAqB,EAAO4G,EAAQ2L,GAAf,IAAA/B,EAAA,OAAA/R,EAAAC,EAAAM,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAjB,KAAA,EAEtBgG,EAAKa,SAAS,CAACnC,QAAS,kBAClB4M,EAAOtL,EAAKK,MAAMiL,MACnB5J,OAASA,EACd4J,EAAK+B,SAAWA,EALMpS,EAAAhB,KAAA,EAOhBf,EAAIgD,WAAW8D,EAAKK,MAAM5E,KAAM6P,GAPhB,OAQtBtL,EAAKpB,MAAM4K,QAAQ/E,QAAnB,KARsBxJ,EAAAhB,KAAA,iBAAAgB,EAAAjB,KAAA,GAAAiB,EAAAb,GAAAa,EAAA,SAUtB8G,MAAK9G,EAAAb,IAViB,eAAAa,EAAAjB,KAAA,GAYjBgG,EAAKgC,oBACRhC,EAAKa,SAAS,CAACnC,aAASC,IAbJ1D,EAAAyO,OAAA,6BAAAzO,EAAAZ,SAAAS,EAAA,wBAA1B,gBAAAP,EAAAC,GAAA,OAAAsK,EAAArK,MAAAC,KAAAC,YAAA,GAzDYqF,iNA6EVtF,KAAKmG,SAAS,CAACnC,SAAS,aACLxF,EAAIoC,cAAcZ,KAAKkE,MAAM0O,MAAMC,OAAOC,YAAvDlC,UACG7P,OAASf,KAAKkE,MAAM0O,MAAMC,OAAOC,IACxC9S,KAAKkE,MAAM4K,QAAQ/E,QAAnB,UAAAhM,OAAqC6S,EAAK7P,KAA1C,aAGFf,KAAKmG,SAAS,CACbpF,KAAM6P,EAAK7P,KACX6P,KAAMA,EAAKvS,uDAGZgJ,MAAKpG,EAAAvB,6BAEAM,KAAKsH,oBACRtH,KAAKmG,SAAS,CAACnC,aAASC,iLAK5BjE,KAAKsH,oBAAqB,mCAGnB,IAAAC,EAAAvH,KAkCP,OACEiD,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAACF,EAAD,MACEC,EAAAnE,EAAAoE,cAAC2G,EAAD,CAAqB7F,QAAShE,KAAK2F,MAAM3B,SACxCf,EAAAnE,EAAAoE,cAAC0E,EAAA,EAAD,CAAWrE,UAAU,eAEQ,aAA3BvD,KAAK2F,MAAMiL,KAAKzJ,OAEhBlE,EAAAnE,EAAAoE,cAAA,WACFD,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAM5E,MAAO,CAACC,gBAAmB,UAAWK,MAAS,UAClDT,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKzD,KAAN,KACHtB,EAAAnE,EAAAoE,cAAA,kBAAUlD,KAAK2F,MAAMiL,KAAKlK,KAA1B,2BAAwD5B,IAAOC,SAAS/E,KAAK2F,MAAMiL,KAAK7L,UAAUmD,OAAO,eAChGjF,EAAAnE,EAAAoE,cAAC+M,GAAA,EAAD,CAAOC,UAAQ,EAAC9M,MAAO,CAACM,MAAS,UAC/BT,EAAAnE,EAAAoE,cAAA,aACED,EAAAnE,EAAAoE,cAAA,UACED,EAAAnE,EAAAoE,cAAA,mBACAD,EAAAnE,EAAAoE,cAAA,uBAGJD,EAAAnE,EAAAoE,cAAA,aACED,EAAAnE,EAAAoE,cAAA,UACED,EAAAnE,EAAAoE,cAAA,gCACAD,EAAAnE,EAAAoE,cAAA,4BAAmBD,EAAAnE,EAAAoE,cAAA,gBAAnB,gCAEFD,EAAAnE,EAAAoE,cAAA,UACED,EAAAnE,EAAAoE,cAAA,uCACAD,EAAAnE,EAAAoE,cAAA,4BAAmBD,EAAAnE,EAAAoE,cAAA,mBAAnB,gCAEFD,EAAAnE,EAAAoE,cAAA,UACED,EAAAnE,EAAAoE,cAAA,oCACAD,EAAAnE,EAAAoE,cAAA,kCAAyBD,EAAAnE,EAAAoE,cAAA,qBAAzB,oCAMjBD,EAAAnE,EAAAoE,cAAA,WAAKD,EAAAnE,EAAAoE,cAAA,WAG8B,kBAA3BlD,KAAK2F,MAAMiL,KAAK5J,OACxB/D,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACM,MAAS,YAArB,2BAA0D1D,KAAK2F,MAAMiL,KAAK5J,QAE1E/D,EAAAnE,EAAAoE,cAAC6P,GAAD,CAAiBC,aAAchT,KAAK0S,sBAMhCzP,EAAAnE,EAAAoE,cAAA,WACAD,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAM5E,MAAO,CAACC,gBAAmB,UAAWK,MAAS,UACpDT,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKzD,KAAN,KACHtB,EAAAnE,EAAAoE,cAAA,UAAKlD,KAAK2F,MAAMiL,KAAKlK,MACrBzD,EAAAnE,EAAAoE,cAAA,WAAKD,EAAAnE,EAAAoE,cAAA,WACLD,EAAAnE,EAAAoE,cAAA,UAAKlD,KAAKyS,cACVxP,EAAAnE,EAAAoE,cAAA,WAAKD,EAAAnE,EAAAoE,cAAA,WAAKD,EAAAnE,EAAAoE,cAAA,WACVD,EAAAnE,EAAAoE,cAAA,0BACAD,EAAAnE,EAAAoE,cAAA,yBAAiBlD,KAAK2F,MAAMiL,KAAKQ,UAAYtM,IAAO9E,KAAK2F,MAAMiL,KAAKQ,WAAWlJ,OA5PvE,2BA4P4F,GAApG,gBAAqHlI,KAAK2F,MAAMiL,KAAKiB,QAAU/M,IAAO9E,KAAK2F,MAAMiL,KAAKiB,SAAS3J,OA5PvK,2BA4P4L,MAG/LjF,EAAAnE,EAAAoE,cA5FI,WACd,IAAM+N,EAAe,IAAIN,GAAepJ,EAAK5B,MAAMiL,MAAOC,IAAII,cAC9D,OAAOhO,EAAAnE,EAAAoE,cAAA,WACLD,EAAAnE,EAAAoE,cAAA,SAAO6I,KAAK,YAAZ,shBAwBEkF,EAAYD,SAAST,KAAUtN,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,OAAOsF,KAAK,MAAMkB,QAAS,kBAAM9C,EAAKwK,WAAWxB,MAAjE,SAC/BU,EAAYD,SAASP,KAAUxN,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,OAAOsF,KAAK,MAAMkB,QAAS,kBAAM9C,EAAKwK,WAAWtB,MAAjE,SAC/BQ,EAAYD,SAASN,KAAazN,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,OAAOsF,KAAK,MAAMkB,QAAS,kBAAM9C,EAAKwK,WAAWrB,MAAjE,YAClCO,EAAYD,SAASR,KAASvN,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,OAAOsF,KAAK,MAAMkB,QAAS,kBAAM9C,EAAKwK,WAAWvB,MAAjE,UA8DxB,iBAjMU5L,aA2MpBqO,8MACLtN,MAAQ,CACL2I,MAAO,EACPqE,SAAU,MAGZxF,MAAQ,kBAAM,SAAC8B,EAAQC,EAAQZ,EAAOa,EAAIC,GACxCxF,EAAKzD,SAAS,CACbmI,MAAOc,EAAQ,+EAIT,IAAAlF,EAAAlK,KACP,OACCiD,EAAAnE,EAAAoE,cAAA,WACCD,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACM,MAAS,YAArB,yFACAT,EAAAnE,EAAAoE,cAAA,OAAKE,MAAO,CACX2E,OAAQ,OACRQ,QAAS,OACV2K,eAAgB,SACZzJ,OAAU,UAEVxG,EAAAnE,EAAAoE,cAAC6M,GAAD,CAAc3D,MAAOpM,KAAK2F,MAAM2I,MAAOnB,MAAOnN,KAAKmN,SAErDlK,EAAAnE,EAAAoE,cAACiQ,GAAA,EAAKC,MAAN,KACEnQ,EAAAnE,EAAAoE,cAACiQ,GAAA,EAAKE,QAAN,CACEvH,YAAY,2QACZE,SAAU,SAAA9N,GAAC,OAAIgM,EAAK/D,SAAS,CAACwM,SAAUzU,EAAEmQ,OAAOC,SACjDxF,GAAG,WACHwK,KAAK,OAGVrQ,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQR,MAAO,CAACC,gBAAmB,WAAYgH,QAAS,kBAAMH,EAAKhG,MAAM8O,aAAa9I,EAAKvE,MAAM2I,MAAOpE,EAAKvE,MAAMgN,YAAnH,kBAhCuB/N,aAsCfkN,MC3OAyB,eAvEb,SAAAA,EAAYrP,GAAO,IAAAoB,EAAA,OAAA3G,OAAA4G,EAAA,EAAA5G,CAAAqB,KAAAuT,GACjBjO,EAAA3G,OAAA6G,EAAA,EAAA7G,CAAAqB,KAAArB,OAAA8G,EAAA,EAAA9G,CAAA4U,GAAA7N,KAAA1F,KAAMkE,IAEFlG,EAAKT,YACP+H,EAAKpB,MAAM4K,QAAQ/E,QAAQ,KAG7BzE,EAAKK,MAAQ,CACX6N,MAAO,GACPtU,SAAU,GACVuU,YAAY,GAGdnO,EAAK4I,aAAe,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtB3H,EADmB0H,EACnB1H,KAAM4H,EADaF,EACbE,MACdhJ,EAAKa,SAALxH,OAAA4P,GAAA,EAAA5P,CAAA,GACG+H,EAAO4H,KAIZhJ,EAAKoO,eAAL,eAAArT,EAAA1B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAsB,SAAAC,EAAMmP,GAAN,IAAA/D,EAAAjN,EAAAgC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAElBgG,EAAKa,SAAS,CAACnC,QAAS,gBAFN3E,EAAAE,KAAA,EAGZf,EAAIC,SAAS6G,EAAKK,MAAM6N,MAAOlO,EAAKK,MAAMzG,SAAUoG,EAAKK,MAAM8N,WAAa,aAAe,WAH/E,cAKlBnO,EAAKa,SAAS,CAACnC,QAAS,eALN3E,EAAAE,KAAA,EAMYf,EAAI0B,MAAMoF,EAAKK,MAAM6N,MAAOlO,EAAKK,MAAMzG,UANnD,UAAAkL,EAAA/K,EAAAmB,KAMVrD,EANUiN,EAMVjN,MAAOgC,EANGiL,EAMHjL,MACX8F,OAAOC,gBAA2B,eAAT/F,EAPX,CAAAE,EAAAE,KAAA,gBAQhB8H,MAAM,kGARUhI,EAAAoB,OAAA,qBAUNwE,OAAOC,gBAA2B,eAAT/F,EAVnB,CAAAE,EAAAE,KAAA,gBAWhB8H,MAAM,oGAXUhI,EAAAoB,OAAA,kBAclBzC,EAAKd,SAASC,GACdmI,EAAKpB,MAAM4K,QAAQ/E,QAAQ,KAfT1K,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAK,GAAAL,EAAA,SAiBlBgI,MAAKhI,EAAAK,IAjBa,eAAAL,EAAAC,KAAA,GAmBbgG,EAAKgC,oBACRhC,EAAKa,SAAS,CAACnC,aAASC,IApBR5E,EAAA2P,OAAA,6BAAA3P,EAAAM,SAAAX,EAAA,wBAAtB,gBAAAY,GAAA,OAAAS,EAAAN,MAAAC,KAAAC,YAAA,GApBiBqF,sFA8CjBtF,KAAKsH,oBAAqB,mCAGnB,IAAAC,EAAAvH,KACP,OACEiD,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAAC0E,EAAA,EAAD,KACE3E,EAAAnE,EAAAoE,cAAA,sBACAD,EAAAnE,EAAAoE,cAAC2G,EAAD,CAAqB7F,QAAShE,KAAK2F,MAAM3B,SACvCf,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,QAAQoF,YAAY,QAAQE,SAAUhM,KAAKkO,eACzDjL,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,WAAWoF,YAAY,WAAWC,KAAK,WAAWC,SAAUhM,KAAKkO,eAC/EjL,EAAAnE,EAAAoE,cAACiQ,GAAA,EAAKQ,MAAN,CACEjN,KAAK,aACLkN,MAAM,oBACN5H,SAAU,kBAAMzE,EAAKpB,SAAS,CAACsN,YAAalM,EAAK5B,MAAM8N,gBAEzDxQ,EAAAnE,EAAAoE,cAAA,WACAD,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQyG,QAASrK,KAAK0T,gBAAtB,sBAhEehP,IAAME,WCPlBiP,GAAA,CACbC,YADa,WAEX,MAA2C,MAApC9W,aAAaC,QAAQ,YAE9B8W,UAJa,WAKX/W,aAAaI,QAAQ,UAAW,MAElC4W,YAPa,WAQXhX,aAAaU,WAAW,aC0IbuW,eAtIb,SAAAA,EAAY/P,GAAO,IAAAoB,EAAA,OAAA3G,OAAA4G,EAAA,EAAA5G,CAAAqB,KAAAiU,GACjB3O,EAAA3G,OAAA6G,EAAA,EAAA7G,CAAAqB,KAAArB,OAAA8G,EAAA,EAAA9G,CAAAsV,GAAAvO,KAAA1F,KAAMkE,IAEFlG,EAAKT,YACP+H,EAAKpB,MAAM4K,QAAQ/E,QAAQ,KAG7BzE,EAAKK,MAAQ,CACX6N,MAAO,iBACPtU,SAAU,OAGZoG,EAAK4I,aAAe,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtB3H,EADmB0H,EACnB1H,KAAM4H,EADaF,EACbE,MACdhJ,EAAKa,SAALxH,OAAA4P,GAAA,EAAA5P,CAAA,GACG+H,EAAO4H,KAIZhJ,EAAK4O,YAAL,eAAA7T,EAAA1B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAmB,SAAAC,EAAMmP,GAAN,IAAA/D,EAAAjN,EAAAgC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEfgG,EAAKa,SAAS,CAACnC,QAAS,eAFT3E,EAAAE,KAAA,EAGef,EAAI0B,MAAMoF,EAAKK,MAAM6N,MAAOlO,EAAKK,MAAMzG,UAHtD,UAAAkL,EAAA/K,EAAAmB,KAGPrD,EAHOiN,EAGPjN,MAAOgC,EAHAiL,EAGAjL,MACX8F,OAAOC,gBAA2B,eAAT/F,EAJd,CAAAE,EAAAE,KAAA,gBAKb8H,MAAM,sEALOhI,EAAAoB,OAAA,qBAOHwE,OAAOC,gBAA2B,eAAT/F,EAPtB,CAAAE,EAAAE,KAAA,gBAQb8H,MAAM,wEAROhI,EAAAoB,OAAA,kBAWfzC,EAAKd,SAASC,GACdmI,EAAKpB,MAAM4K,QAAQ/E,QAAQ,KAZZ1K,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAK,GAAAL,EAAA,SAcfgI,MAAKhI,EAAAK,IAdU,eAAAL,EAAAC,KAAA,GAgBVgG,EAAKgC,oBACRhC,EAAKa,SAAS,CAACnC,aAASC,IAjBX5E,EAAA2P,OAAA,6BAAA3P,EAAAM,SAAAX,EAAA,wBAAnB,gBAAAY,GAAA,OAAAS,EAAAN,MAAAC,KAAAC,YAAA,GAnBiBqF,sFA0CjBtF,KAAKsH,oBAAqB,mCAI1B,OAAIrC,OAAOC,eAEPjC,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAAC0E,EAAA,EAAD,CAAWxE,MAAO,CAAC2E,OAAU,SAC3B9E,EAAAnE,EAAAoE,cAAC2E,EAAA,EAAD,CAAKzE,MAAO,CACVqF,UAAa,QACb4G,SAAY,SAEVpM,EAAAnE,EAAAoE,cAAC4E,EAAA,EAAD,CAAK1E,MAAO,CACVC,gBAAmB,UACnBkF,QAAW,OACX4L,WAAc,SACdjB,eAAkB,SAClBxP,MAAS,UAETT,EAAAnE,EAAAoE,cAAA,OAAKE,MAAO,CAAC8F,MAAO,UAClBjG,EAAAnE,EAAAoE,cAAA,2BACAD,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACqE,UAAa,WACzBxE,EAAAnE,EAAAoE,cAAA,MAAIE,MAAO,CAACK,WAAc,YAA1B,8DAGAR,EAAAnE,EAAAoE,cAAA,WACAD,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQR,MAAO,CACbsE,YAAe,QACfjE,WAAc,OACdC,MAAS,SACRG,QAAQ,gBAJX,gBAOJZ,EAAAnE,EAAAoE,cAAC4E,EAAA,EAAD,CAAK1E,MAAO,CACV2E,OAAU,cACVrE,MAAS,YAETT,EAAAnE,EAAAoE,cAACoG,EAAA,EAAD,CAAOC,IAAKC,IAAMpG,MAAO,CAAC8F,MAAO,SAAUQ,OAAK,IAEhD0K,GAAQN,cACN7Q,EAAAnE,EAAAoE,cAAC2G,EAAD,CAAqB7F,QAAShE,KAAK2F,MAAM3B,SACvCf,EAAAnE,EAAAoE,cAAA,OAAKK,UAAU,eACbN,EAAAnE,EAAAoE,cAAA,qBACAD,EAAAnE,EAAAoE,cAAA,WACAD,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,QAAQoF,YAAY,UAAWE,SAAUhM,KAAKkO,eAC5DjL,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,WAAWoF,YAAY,WAAYC,KAAK,WAAWC,SAAUhM,KAAKkO,eAChFjL,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQuF,KAAK,KAAKkB,QAASrK,KAAKkU,YAAaG,OAAK,GAACpR,EAAAnE,EAAAoE,cAACoF,EAAA,EAAD,SAIvDrF,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAAA,KAAGE,MAAO,CAACM,MAAO,YAAlB,uLACAT,EAAAnE,EAAAoE,cAACM,EAAA,cAAD,CAAeG,GAAE,WAAcoG,SAAO,GACpC9G,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,WAAhB,sBAalBZ,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAAC0E,EAAA,EAAD,CAAWrE,UAAU,eACnBN,EAAAnE,EAAAoE,cAACoG,EAAA,EAAD,CAAOC,IAAKC,IAAMpG,MAAO,CAAC2E,OAAQ,OAAQmB,MAAO,SAAUQ,OAAK,IAE9D0K,GAAQN,cACN7Q,EAAAnE,EAAAoE,cAAC2G,EAAD,CAAqB7F,QAAShE,KAAK2F,MAAM3B,SACvCf,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,QAAQoF,YAAY,QAASE,SAAUhM,KAAKkO,eAC1DjL,EAAAnE,EAAAoE,cAACoM,GAAD,CAAS5I,KAAK,WAAWoF,YAAY,WAAYC,KAAK,WAAWC,SAAUhM,KAAKkO,eAChFjL,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQyG,QAASrK,KAAKkU,aAAtB,WAGFjR,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAAA,KAAGE,MAAO,CAACM,MAAO,SAAlB,uLACAT,EAAAnE,EAAAoE,cAACM,EAAA,cAAD,CAAeG,GAAE,WAAcoG,SAAO,GACpC9G,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,WAAhB,2BA3HMa,IAAME,qDCiGf0P,8MAnGb3O,MAAQ,CACN4O,MAAO,KAETtK,cAAgB,kBAAM3E,EAAKa,SAAS,SAAA9F,GAAA,MAAgB,CAAEkU,MAAlBlU,EAAGkU,MAA8B,SACrEpK,cAAgB,kBAAM7E,EAAKa,SAAS,SAAAiE,GAAA,MAAgB,CAAEmK,MAAlBnK,EAAGmK,MAA8B,SAErEC,oDAAgB,SAAAxV,EAAMmP,GAAN,OAAAtP,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEZgG,EAAKa,SAAS,CAACnC,QAAS,oCAFZ3E,EAAAE,KAAA,EAGNyL,GAAMQ,QAAQ,KAHR,OAIZ4I,GAAQL,YACRzO,EAAKpB,MAAM4K,QAAQ/E,QAAQ,UALf1K,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAOZgI,MAAKhI,EAAAK,IAPO,eAAAL,EAAAC,KAAA,GASPgG,EAAKgC,oBACRhC,EAAKa,SAAS,CAACnC,aAASC,IAVd5E,EAAA2P,OAAA,6BAAA3P,EAAAM,SAAAX,EAAA,qJAed,OACEiE,EAAAnE,EAAAoE,cAAC2G,EAAD,CAAqB7F,QAAShE,KAAK2F,MAAM3B,SACvCf,EAAAnE,EAAAoE,cAAA,SAAO6I,KAAK,YAAZ,2vCA8CA9I,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,QAAQwG,QAASrK,KAAKmK,eAAtC,KACAlH,EAAAnE,EAAAoE,cAAA,sBAAclD,KAAK2F,MAAM4O,OACzBtR,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQC,QAAQ,QAAQwG,QAASrK,KAAKiK,eAAtC,KACAhH,EAAAnE,EAAAoE,cAACuR,GAAA3V,EAAD,CACE4V,SAAU,CAACC,IAAKC,MAChBC,IAAI,eACJN,MAAOvU,KAAK2F,MAAM4O,MAClBO,WAAY,CACVD,IAAK,CACHE,gBAAiB,gBACjBC,YAAa,gBACbC,MAAO,cACPC,QAAS,oBAIfjS,EAAAnE,EAAAoE,cAAA,OAAKE,MAAO,CACV2E,OAAQ,OACRQ,QAAS,OACT2K,eAAgB,WAEhBjQ,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQuF,KAAK,KAAK5F,UAAU,cAAcM,QAAQ,UAAUwG,QAASrK,KAAKwU,eAA1E,yBA3FgB9P,IAAME,qBC8DjBuQ,eA/Db,SAAAA,EAAYjR,GAAO,IAAAoB,EAAA,OAAA3G,OAAA4G,EAAA,EAAA5G,CAAAqB,KAAAmV,IACjB7P,EAAA3G,OAAA6G,EAAA,EAAA7G,CAAAqB,KAAArB,OAAA8G,EAAA,EAAA9G,CAAAwW,GAAAzP,KAAA1F,KAAMkE,KAEDyB,MAAQ,CACXyP,YAAa,GACbC,KAAM,IAGR/P,EAAK4I,aAAe,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtB3H,EADmB0H,EACnB1H,KAAM4H,EADaF,EACbE,MACdhJ,EAAKa,SAALxH,OAAA4P,GAAA,EAAA5P,CAAA,GACG+H,EAAO4H,KAIZhJ,EAAKgQ,cAAL,eAAAjV,EAAA1B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAqB,SAAAC,EAAMmP,GAAN,IAAAkH,EAAA,OAAAxW,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEjBgG,EAAKa,SAAS,CAACnC,QAAS,eAFP3E,EAAAE,KAAA,EAGEf,EAAIkE,QAAQ4C,EAAKK,MAAMyP,aAHzB,OAGXC,EAHWhW,EAAAmB,KAIjB8E,EAAKa,SAAS,CAAEkP,SAJChW,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAMjBgI,MAAKhI,EAAAK,IANY,eAAAL,EAAAC,KAAA,GAQZgG,EAAKgC,oBACRhC,EAAKa,SAAS,CAACnC,aAASC,IATT5E,EAAA2P,OAAA,6BAAA3P,EAAAM,SAAAX,EAAA,uBAArB,gBAAAY,GAAA,OAAAS,EAAAN,MAAAC,KAAAC,YAAA,GAfiBqF,sFA8BjBtF,KAAKsH,oBAAqB,mCAI1B,OACErE,EAAAnE,EAAAoE,cAAA,WACED,EAAAnE,EAAAoE,cAAC0E,EAAA,EAAD,CAAWrE,UAAU,eACnBN,EAAAnE,EAAAoE,cAAA,uBACAD,EAAAnE,EAAAoE,cAAC2G,EAAD,CAAqB7F,QAAShE,KAAK2F,MAAM3B,SACvCf,EAAAnE,EAAAoE,cAAC2I,GAAA,EAAD,CACEC,YAAY,cACZpF,KAAK,cACLsF,SAAUhM,KAAKkO,eAEjBjL,EAAAnE,EAAAoE,cAAA,WACAD,EAAAnE,EAAAoE,cAACU,EAAA,EAAD,CAAQyG,QAASrK,KAAKsV,eAAtB,WAEEtV,KAAK2F,MAAM0P,KAAKhP,IAAI,SAAAkP,GAAC,OACnBtS,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAD,CAAMiB,IAAKsM,EAAE7O,KAAM8O,OAAO,UAAUpS,MAAO,CAAE2E,OAAQ,cACnD9E,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKzD,KAAN,KACEtB,EAAAnE,EAAAoE,cAAC8E,EAAA,EAAKe,MAAN,KAAawM,EAAE7O,MACfzD,EAAAnE,EAAAoE,cAACuS,GAAA,QAAD,CAASC,SAAQ,GAAA3X,OAAKwX,EAAE7O,KAAP,QAAmBrI,KAAMkX,EAAEI,KAA5C,0BApDQjR,IAAME,WCMlC,SAASgR,GAATvV,GAAyD,IAAtBuE,EAAsBvE,EAAjCwV,UAAyBC,EAAQnX,OAAAoX,EAAA,EAAApX,CAAA0B,EAAA,eACvD,OACE4C,EAAAnE,EAAAoE,cAAC8S,EAAA,EAADrX,OAAAsX,OAAA,GACMH,EADN,CAEE7G,OAAQ,SAAA/K,GAAK,OACXlG,EAAKT,WACH0F,EAAAnE,EAAAoE,cAAC0B,EAAcV,GAEfjB,EAAAnE,EAAAoE,cAACgT,EAAA,EAAD,CACEvS,GAAI,CACFwS,SAAU,SACVxQ,MAAO,CAAEiH,KAAM1I,EAAMkS,iBASnC,SAASC,GAATjM,GAAwDA,EAAjCyL,UAAiC,IAARC,EAAQnX,OAAAoX,EAAA,EAAApX,CAAAyL,EAAA,eACtD,OACEnH,EAAAnE,EAAAoE,cAAC8S,EAAA,EAADrX,OAAAsX,OAAA,GACMH,EADN,CAEE7G,OAAQ,SAAA/K,GAGJ,OADAlG,EAAKP,SAEHwF,EAAAnE,EAAAoE,cAACgT,EAAA,EAAD,CACEvS,GAAI,CACFwS,SAAU,SACVxQ,MAAO,CAAEiH,KAAM1I,EAAMkS,qBAYhBE,oLAEjB,OACErT,EAAAnE,EAAAoE,cAACqT,EAAA,EAAD,KACEtT,EAAAnE,EAAAoE,cAACsT,EAAA,EAAD,KACEvT,EAAAnE,EAAAoE,cAAC8S,EAAA,EAAD,CAAOS,OAAK,EAACC,KAAK,SAASb,UAAW5B,KACtChR,EAAAnE,EAAAoE,cAAC8S,EAAA,EAAD,CAAOS,OAAK,EAACC,KAAK,YAAYb,UAAWtC,KACzCtQ,EAAAnE,EAAAoE,cAAC8S,EAAA,EAAD,CAAOS,OAAK,EAACC,KAAK,WAAWb,UAAWvB,KACxCrR,EAAAnE,EAAAoE,cAAC8S,EAAA,EAAD,CAAOS,OAAK,EAACC,KAAK,WAAWb,UAAWV,KACxClS,EAAAnE,EAAAoE,cAACmT,GAAD,CAAaI,OAAK,EAACC,KAAK,YACxBzT,EAAAnE,EAAAoE,cAAC0S,GAAD,CAAca,OAAK,EAACC,KAAK,IAAIb,UAAW7Q,IACxC/B,EAAAnE,EAAAoE,cAAC0S,GAAD,CAAca,OAAK,EAACC,KAAK,iBAAiBb,UAAWhI,KACrD5K,EAAAnE,EAAAoE,cAAC0S,GAAD,CAAca,OAAK,EAACC,KAAK,qBAAqBb,UAAW/D,cAZlCpN,IAAME,WC3CnB+R,QACW,cAA7B1R,OAAOmR,SAASQ,UAEe,UAA7B3R,OAAOmR,SAASQ,UAEhB3R,OAAOmR,SAASQ,SAAShE,MACvB,2DCZNiE,IAAS5H,OAAOhM,EAAAnE,EAAAoE,cAAC4T,GAAD,MAASpC,SAASqC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.54d728d4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.329790b8.png\";","module.exports = __webpack_public_path__ + \"static/media/consent.bfc04146.pdf\";","export default {\n  getToken() {\n    return localStorage.getItem('token');\n  },\n  setToken(token) {\n    localStorage.setItem('token', typeof token === 'string' ? token : JSON.stringify(token));\n  },\n  loggedIn() {\n    const token = localStorage.getItem('token');\n    return token && token.trim();\n  },\n  logout() {\n    localStorage.removeItem('token');\n  },\n};\n","import axios from 'axios';\nimport Auth from '../stores/auth';\n\n// const API = \"https://fsbccoffee.ngrok.io/v1\";\nconst API = 'https://cd-app-usask.herokuapp.com/v1';\n\nfunction authHeader() {\n  return { headers: { Authorization: `Bearer ${Auth.getToken()}` } };\n}\n\nfunction axiosError(e, defaultMessage) {\n  if (e.response && e.response.data && e.response.data.message) {\n    throw new Error(e.response.data.message);\n  }\n  throw new Error(defaultMessage ? defaultMessage : 'Invalid response from server');\n}\n\nexport default {\n  register: async(username, password, role) => {\n    try {\n      await axios.post(`${API}/user/register`, { username, password, role });\n    } catch (e) {\n      axiosError(e);\n    }\n  },\n  login: async(username, password) => {\n    try {\n      const { data: { token, role } } = await axios.post(`${API}/user/login`, { username, password });\n      if (!token) {\n        throw new Error('Invalid login response from server');\n      }\n      return { token, role };\n    } catch (e) {\n      axiosError(e);\n    }\n  },\n  getTaskLatest: async guid => {\n    try {\n      const result = await axios.get(`${API}/fs/${guid}/latest`, authHeader());\n      return result.data;\n    } catch (e) {\n      axiosError(e);\n    }\n  },\n  getTasks: async() => {\n    try {\n      return (await axios.get(`${API}/fs`, authHeader())).data;\n    } catch (e) {\n      axiosError(e);\n    }\n  },\n  updateTask: async(guid, nTask) => {\n    try {\n      const result = await axios.put(`${API}/fs/${guid}`, nTask, authHeader());\n      return result.data.globalUniqueID;\n    } catch (e) {\n      axiosError(e);\n    }\n  },\n  includeTask: async nTask => {\n    try {\n      await axios.post(`${API}/fs/publish`, nTask, authHeader());\n    } catch (e) {\n      axiosError(e);\n    }\n  },\n  getPublishedTasks: async() => {\n    try {\n      return (await axios.get(`${API}/fs/published`, authHeader())).data;\n    } catch (e) {\n      axiosError(e);\n    }\n  },\n  collect: async link => {\n    try {\n      return (await axios.post(`${API}/collector`, { link })).data;\n    } catch (e) {\n      axiosError(e);\n    }\n  },\n};\n","import React from 'react';\nimport { Navbar, Nav, Button } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\n\nexport default () => (\n  <div>\n    <Navbar style={{'backgroundColor': \"#2699fb\"}}>\n      <Nav className=\"mr-auto\">\n        <LinkContainer style={{'backgroundColor': \"#2699fb\", 'fontWeight': 'bold', 'color': 'white'}} to=\"/\">\n          <Button variant=\"link\">Home</Button>\n        </LinkContainer>\n      </Nav>\n      <Navbar.Collapse className=\"justify-content-end\">\n        <LinkContainer style={{'backgroundColor': \"#2699fb\", 'fontWeight': 'bold', 'color': 'white'}} to=\"/logout\">\n          <Button>Logout</Button>\n        </LinkContainer>\n      </Navbar.Collapse>\n    </Navbar>\n    <br />\n  </div>\n);\n","import React, { Component } from 'react';\nimport { Spinner, Modal } from 'react-bootstrap';\n\nclass AsyncAwareContainer extends Component {\n  render() {\n    const loading = this.props.loading !== undefined && this.props.loading !== null;\n    let message = 'Loading';\n    if (typeof this.props.loading === 'string' && this.props.loading.trim().length > 0) {\n      message = this.props.loading;\n    }\n\n    return (\n      <div>\n        {\n          loading\n            ? (\n              <Modal show={loading} centered>\n                <Modal.Body>\n                  <div className=\"text-center\">\n                    <Spinner animation=\"border\" variant=\"primary\" />\n                    &nbsp;\n                    {' '}\n                    {message}\n                  </div>\n                </Modal.Body>\n              </Modal>\n            )\n            : React.createElement('div', null, this.props.children)\n        }\n      </div>\n    );\n  }\n}\n\nexport default AsyncAwareContainer;\n","import React, { Component, PureComponent } from \"react\";\nimport api from \"../../Data/api\";\nimport { Container, Card, Button, Row, Col, Image, Navbar } from 'react-bootstrap';\nimport MyNavBar from '../MyNavBar';\nimport AsyncAwareContainer from '../AsyncAwareContainer';\nimport { IoMdSettings, IoIosAddCircle, IoMdPerson } from 'react-icons/io';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport logo from \"../logo.png\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\nimport moment from \"moment\";\nimport momentDurationFormatSetup from \"moment-duration-format\";\nmomentDurationFormatSetup(moment);\n\nconst estimatedHours = \"Estimated hours\";\nconst duration= \"Hours that Students have spent\";\nconst estimatedStress = \"Estimated Stress\";\nconst meanStress = \"Mean Stress\";\n\nfunction millisecsToHours(mil) {\n  const toSeconds = mil / 1000;\n  const toMinutes = toSeconds / 60;\n  const toHours = toMinutes / 60;\n  return toHours;\n}\n\nclass HomePage extends Component {\n  render() {\n    return (window.FOR_INSTRUCTOR) ? <HomePageInstructor/> : <HomePageStudent/>;\n  }\n}\n\nclass HomePageInstructor extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      tasks: [],\n      chartData: []\n    };\n\n    this.activeTasks = () => \n      this.state.tasks.filter(t => !t.completed)\n\n    this.completedTasks = () => \n      this.state.tasks.filter(t => t.completed)\n  }\n\n  async componentDidMount() {\n    try {\n      this.setState({loading: true});\n      const publishedTasks = await api.getPublishedTasks();\n      const tasks = publishedTasks\n        .map(tasks => {\n          const {\n            source : { data: s, guid },\n            published\n          } = tasks;\n          const { name, estimatedStress, estimatedHours } = s;\n          const duration = published.reduce((d, p) => typeof p.data.duration === 'number' ? d + p.data.duration : d , 0);\n          const submittedStress = published.filter(p => typeof p.data.stress === 'number');\n          const meanStress = submittedStress.reduce((ms, p) => ms + p.data.stress, 0) / submittedStress.length;\n          const completed = published.reduce((a, p) => p.data.status === 'finished' && a, true );\n          return {\n            guid, name, estimatedHours, estimatedStress, duration, completed, meanStress\n          };\n        });\n      // console.log(tasks);\n      const chartData = tasks.map(t => {\n        const group = {};\n        group.name = t.name;\n        group[estimatedStress] = t.estimatedStress;\n        group[duration] = millisecsToHours(t.duration);\n        group[estimatedHours] = t.estimatedHours;\n        group[meanStress] = t.meanStress;\n        return group;\n      });\n      this.setState({\n        tasks,\n        chartData\n      });\n    } catch (error) {\n      alert(error);\n    } finally {\n      if (!this.componentUnmounted)\n        this.setState({loading: undefined});\n    }\n  }\n\n  componentWillUnmount() {\n    this.componentUnmounted = true;\n  }\n\n  render() {\n    const BlueBreakline = () => (<hr style={{'borderTop': 'solid', 'borderColor': '#2699fb'}}/>);\n\n    // https://css-tricks.com/snippets/css/a-guide-to-flexbox\n\n    const RightSide = () => (\n      <div style={{\n        'flex': '1.3 0 0',\n        'order': '3',\n      }}>\n        <Card style={{'minHeight': '100vh'}}>\n          <Card.Header style={{\n            'backgroundColor': '#2699fb',\n            'color': 'white',\n            'padding': '2rem'\n          }} as=\"h5\">All Tasks</Card.Header>\n          <Card.Body style={{\n            'color': '#2699fb',\n            'margin': '0 1rem'\n          }}>\n            <Card.Title>Active Tasks</Card.Title>\n            <BlueBreakline />\n              {\n                this.activeTasks().map(t => (<Card.Text key={t.guid}>{t.name}</Card.Text>))\n              }\n            <Card.Title>Completed Tasks</Card.Title>\n            <BlueBreakline />\n              {\n                this.completedTasks().map(t => (<Card.Text key={t.guid}>{t.name}</Card.Text>))\n              }\n          </Card.Body>\n        </Card>\n      </div>\n    );\n\n    const TasksStatistics = () => (\n      <Container>\n        <Row>\n          <Col className='text-center' style={{'margin': '0 7rem'}}>\n            <Card style={{'backgroundColor': '#2699fb','color': 'white'}}>\n              <Card.Body><h1>{this.state.tasks.length}</h1></Card.Body>\n            </Card>\n            <h6 style={{'color': '#2699fb'}}>Total Tasks</h6>\n          </Col>\n          <Col className='text-center' style={{'margin': '0 7rem'}}>\n            <Card style={{'backgroundColor': '#2699fb','color': 'white'}}>\n              <Card.Body>\n                <h1>\n                {\n                  moment.duration(\n                    this.state.tasks\n                      .map(t => typeof t.duration === 'number' ? t.duration : 0)\n                      .reduce((total, d) => total + d, 0)\n                  ).format(\"h [hour], m [minute], s [second]\")\n                }\n                </h1>\n              </Card.Body>\n            </Card>\n            <h6 style={{'color': '#2699fb'}}>Total time spent on Task(s)</h6>\n          </Col>\n        </Row>\n      </Container>\n    );\n\n    const [kc1, kc2] = [[], []];\n    kc1[0] = [estimatedHours, '#81e383'];\n    kc1[1] = [duration, '#7e9e7f'];\n    kc2[0] = [estimatedStress, '#e38881'];\n    kc2[1] = [meanStress, '#ad534c'];\n\n    const Center = () => (\n      <div style={{\n        'flex': '7 0 0',\n        'order': '2'\n      }}>\n        <LinkContainer to=\"/tasks/include\">\n          <Button style={{'color': '#2699FB', 'width': '100%'}} size='lg' variant=\"outline-dark\">Add Tasks <IoIosAddCircle/></Button>\n        </LinkContainer>\n        <TasksStatistics />\n        <h6>Assignments</h6>\n        <TasksBarChart data={this.state.chartData} keysColors={kc1} />\n        <TasksBarChart data={this.state.chartData} keysColors={kc2} />\n      </div>\n    );\n\n    return (\n      <div>\n        <Navbar style={{'backgroundColor': \"#2699fb\"}}>\n          <Navbar.Brand><IoMdPerson /> Hello, Instructor!</Navbar.Brand>\n          <Navbar.Collapse className=\"justify-content-end\">\n            <LinkContainer style={{'backgroundColor': \"#2699fb\", 'fontWeight': 'bold', 'color': 'white'}} to=\"/logout\">\n              <Button>Logout</Button>\n            </LinkContainer>\n          </Navbar.Collapse>\n        </Navbar>\n        <div style={{\n          'display': 'flex',\n          'flexFlow': 'row wrap',\n          'minHeight': '100vh',\n          'margin': '0.5rem'\n        }}>\n            <RightSide />\n            <Center />\n        </div>\n        <Image src={logo} style={{height: '3rem'}} fluid />\n      </div>\n    );  \n  }\n}\n\nclass HomePageStudent extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      tasks: [],\n    };\n\n    this.activeTasks = () => \n      this.state.tasks.filter(t => t.data.status !== 'finished')\n\n    this.completedTasks = () => \n      this.state.tasks.filter(t =>  t.data.status === 'finished')\n  }\n\n  async componentDidMount() {\n    try {\n      this.setState({loading: true});\n      const tasks = await api.getTasks();\n      this.setState({\n        tasks\n      });\n    } catch (error) {\n      alert(error);\n    } finally {\n      if (!this.componentUnmounted)\n        this.setState({loading: undefined});\n    }\n  }\n\n  componentWillUnmount() {\n    this.componentUnmounted = true;\n  }\n\n  render() {\n    return (\n      <div>\n        <MyNavBar/>\n        <Container>\n          <AsyncAwareContainer loading={this.state.loading}>\n            <h4 style={{'color': '#2699FB'}}>Active tasks</h4>\n            {\n              this.activeTasks()\n                .map(i =>\n                <div key={i.guid}>\n                  <Card style={{'backgroundColor': '#F1F8FF', 'color': '#2699FB'}}>\n                    <Card.Body>\n                      <h5> <IoMdSettings/> {i.data.name} </h5>\n                      <LinkContainer to={`/tasks/${i.guid}/details`} replace>\n                        <Button variant=\"primary\">Start Task</Button>\n                      </LinkContainer>\n                    </Card.Body>\n                  </Card>\n                  <br/>\n                </div>\n            )}\n            <h4 style={{'color': '#2699FB'}}>Completed Tasks</h4>\n            {\n              this.completedTasks()\n                .map(i =>\n                <div key={i.guid}>\n                  <Card style={{'backgroundColor': '#F1F8FF', 'color': '#2699FB'}}>\n                    <Card.Body>\n                      <LinkContainer style={{'backgroundColor': '#F1F8FF', 'color': '#2699FB'}} to={`/tasks/${i.guid}/details`} replace>\n                        <Button size=\"lg\" variant=\"light\"><IoMdSettings/> {i.data.name}</Button>\n                      </LinkContainer>\n                    </Card.Body>\n                  </Card>\n                  <br/>\n                </div>\n            )}\n          </AsyncAwareContainer>\n        </Container>\n      </div>\n    );\n  }\n}\n\nclass TasksBarChart extends PureComponent {\n  state = {\n    size: 500\n  }\n  increaseScale = () => this.setState(({ size }) => ({ size: size + 100 }))\n  decreaseScale = () => this.setState(({ size }) => ({ size: size - 100 }))\n\n  render() {\n    return (\n      <div>\n        <Button variant=\"light\" size=\"lg\" onClick={this.decreaseScale}>-</Button>\n        <Button variant=\"light\" size=\"lg\" onClick={this.increaseScale}>+</Button>\n        <BarChart\n          width={this.state.size + 500}\n          height={this.state.size}\n          data={this.props.data}\n          margin={{\n            top: 5, right: 30, left: 20, bottom: 5,\n          }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey=\"name\" />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          { this.props.keysColors.map(kc => <Bar dataKey={kc[0]} fill={kc[1]} />) }\n        </BarChart>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;","export default {\n  propercase: text => text.split('').map((item, index) => (index === 0 ? item.toUpperCase() : item)).join(''),\n  timeout: ms => new Promise(resolve => setTimeout(resolve, ms))\n};\n","import React, { Component } from 'react';\nimport { Col, FormControl, Row } from 'react-bootstrap';\nimport utils from './utils';\n\n// <Col xs=\"2\">{utils.propercase(this.props.name)}</Col>\n\nclass FormRow extends Component {\n  render() {\n    return (\n      <div>\n        <Row>\n          <Col>\n            <FormControl\n              placeholder={this.props.placeholder ? utils.propercase(this.props.placeholder) : ''}\n              type={this.props.type ? this.props.type : 'text'}\n              name={this.props.name}\n              onChange={this.props.onChange}\n            />\n          </Col>\n        </Row>\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default FormRow;\n","import React, { Component } from \"react\";\nimport { Col } from 'react-bootstrap';\nimport Nouislider from \"nouislider-react\";\nimport \"nouislider/distribute/nouislider.css\";\n\nclass StressSlider extends Component {\n  render() {\n    return <Col xl={1}>\n      <style type=\"text/css\">\n        {`\n          .noUi-handle {\n            top: 0px;\n            border-radius: 0px;\n            border: none;\n            border-image-width: 0;\n            background: no-repeat url(\"https://img.icons8.com/officexs/16/000000/arrow.png\");\n            background-position: center;\n            background-size: 100% 125%;\n          }\n\n          .noUi-handle::after, .noUi-handle::before{\n            display: none;\n          }\n\n          .noUi-target {\n            background: linear-gradient(#d40404, #ffcfcf);\n          }\n\n          .noUi-tooltip {\n            color: #2699FB;\n          }\n        `}\n      </style>\n      <Nouislider\n        className=\"text-center\"\n        style={{'height': '100%'}}\n        start={this.props.start}\n        orientation=\"vertical\"\n        direction=\"rtl\"\n        range={{\n          min: 0,\n          max: 10\n        }}\n        step={0.1}\n        tooltips={{\n          from: Number,\n          to: v => {\n            if (0 <= v && v < 4) {\n              return \"Mild\";\n            } else if (4 <= v && v < 7) {\n              return \"Moderate\";\n            } else {\n              return \"High\";\n            }\n          }\n        }}\n        pips={{\n          mode: 'values',\n          values: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n          density: 1\n        }}\n        onEnd={this.props.onEnd()}\n      />\n    </Col>;\n  }\n}\n\nexport default StressSlider;","import React, { Component } from \"react\";\nimport api from \"../../Data/api\";\nimport FormRow from '../FormRow';\nimport AsyncAwareContainer from '../AsyncAwareContainer';\nimport { Container, Button, Modal, Row, Col, Table, Card } from 'react-bootstrap';\nimport \"nouislider/distribute/nouislider.css\";\nimport { DateRangePicker } from 'react-dates';\nimport 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\nimport StressSlider from '../StressSlider';\n\nclass IncludePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      estimatedHours: \"\",\n      regulatedStartDate: null,\n      regulatedEndDate: null,\n      focusedInput: null,\n      notes: \"\",\n      estimatedStress: 5,\n    };\n\n    this.handleChange = event => {\n      const { name, value } = event.target;\n      this.setState({\n        [name]: value\n      });\n    }\n\n    this.validInput = () => this.state.name.trim().length > 0 \n      && this.state.estimatedHours.trim().length > 0\n      && !isNaN(parseFloat(this.state.estimatedHours.trim()))\n      && this.state.regulatedStartDate\n      && this.state.regulatedEndDate;\n\n    this.submit = async event => {\n      try {\n        this.setState({loading: 'Including task'});\n        const { name, estimatedHours, notes, estimatedStress } = this.state;\n        await api.includeTask({ \n          name, estimatedHours: parseFloat(estimatedHours.trim()), notes, estimatedStress,\n          regulatedStartDate: this.state.regulatedStartDate.valueOf(),\n          regulatedEndDate: this.state.regulatedEndDate.valueOf()\n        });\n        this.props.history.push(\"/\");\n      } catch (error) {\n        alert(error);\n      } finally {\n        if (!this.componentUnmounted)\n          this.setState({loading: undefined});\n      }\n    }\n\n    this.onEnd = () => (render, handle, value, un, percent) => {\n      this.setState({\n        estimatedStress: percent/10\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.componentUnmounted = true;\n  }\n\n  render() {\n    if (window.FOR_INSTRUCTOR) {\n      return (\n        <div style={{\n          'color': '#2699FB',\n          'margin': '5% 0 0 0'\n        }}>\n          <h1 className=\"text-center\">Create a New Task</h1>\n          <AsyncAwareContainer loading={this.state.loading}>\n            <Container style={{\n              'minWidth': '100vw',\n              'margin': '7% 0 0 0'\n            }}>\n              <Row>\n                <Col>\n                  <FormRow name=\"name\" placeholder=\"Activity Name\" onChange={this.handleChange} />\n                  <FormRow name=\"estimatedHours\" placeholder=\"Estimated Hours\" onChange={this.handleChange} />\n                  <FormRow name=\"notes\" placeholder=\"Notes\" onChange={this.handleChange} />\n                  <DateRangePicker\n                    startDate={this.state.regulatedStartDate} // momentPropTypes.momentObj or null,\n                    startDateId=\"your_unique_start_date_id\" // PropTypes.string.isRequired,\n                    endDate={this.state.regulatedEndDate} // momentPropTypes.momentObj or null,\n                    endDateId=\"your_unique_end_date_id\" // PropTypes.string.isRequired,\n                    onDatesChange={({ startDate, endDate }) => this.setState({ regulatedStartDate: startDate, regulatedEndDate: endDate })} // PropTypes.func.isRequired,\n                    focusedInput={this.state.focusedInput} // PropTypes.oneOf([START_DATE, END_DATE]) or null,\n                    onFocusChange={focusedInput => this.setState({ focusedInput })} // PropTypes.func.isRequired,\n                  />\n                  <h6 style={{'textAlign': 'right'}}>Selected stress score: {this.state.estimatedStress}</h6>\n                </Col>\n\n\n                <StressSlider start={this.state.estimatedStress} onEnd={this.onEnd} />\n\n\n                <Col>\n                  <Card className=\"text-center\" body><b>What level of stress do you think your students may experience in completing this task?</b></Card>\n                  <br/>\n                  <h5>Interpretation of the stress scroll bar:</h5>\n                  <Table bordered style={{'color': '#2699FB'}}>\n                    <thead>\n                      <tr>\n                        <th>Score</th>\n                        <th>Meaning</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr>\n                        <td>1 - 4 = low stress</td>\n                        <td>Student may <b>not</b> be psychologically distressed</td>\n                      </tr>\n                      <tr>\n                        <td>4.1 - 7 = moderate stress</td>\n                        <td>Student may be <b>mildly</b> psychologically distressed</td>\n                      </tr>\n                      <tr>\n                        <td>7.1 - 10 = high stress</td>\n                        <td>Student may  be <b>severely</b> psychologically distressed</td>\n                      </tr>\n                    </tbody>\n                  </Table>\n                </Col>\n              </Row>\n            </Container>\n            <br/><br/>\n            <div className=\"text-center\">\n              {\n                this.validInput() ? <Button onClick={this.submit}> Create </Button> : <Guard/>\n              }\n            </div>\n          </AsyncAwareContainer>\n        </div>\n      );\n    }\n    return (\n      <div>\n        \n      </div>\n    );\n  }\n}\n\nfunction Guard() {\n  const [show, setShow] = React.useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <div>\n      <Button variant=\"primary\" onClick={handleShow}>\n        Create\n      </Button>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Body> Do not leave name, Estimated Hours, and dates empty and make sure Estimated Hours is a number</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default IncludePage;","import React, { Component } from \"react\";\nimport api from \"../../Data/api\";\nimport MyNavBar from '../MyNavBar';\nimport AsyncAwareContainer from '../AsyncAwareContainer';\nimport { Button, Card, Table, Container, Form } from 'react-bootstrap';\nimport StateMachine from 'javascript-state-machine';\nimport StressSlider from '../StressSlider';\nimport moment from \"moment\";\nimport momentDurationFormatSetup from \"moment-duration-format\";\nmomentDurationFormatSetup(moment);\n\nconst timeFormat = 'MMMM Do YYYY, h:mm:ss a';\n\n//states\nconst [CREATED, INPROGRESS, PAUSED, FINISHED] = ['created', 'inProgress', 'paused', 'finished'];\n// transitions\nconst [START, STOP, PAUSE, CONTINUE] = ['start', 'stop', 'pause', 'continue'];\n\nclass TaskController {\n  constructor(task) {\n    this.task = task;\n\n    const allowedStatuses = s => [CREATED, INPROGRESS, PAUSED, FINISHED].includes(s);\n\n    this.fsm = new StateMachine({\n      init: allowedStatuses(task.status) ? task.status : CREATED,\n      transitions: [\n        { name: START,    from: CREATED,    to: INPROGRESS },\n        { name: PAUSE,    from: INPROGRESS, to: PAUSED },\n        { name: CONTINUE, from: PAUSED,     to: INPROGRESS },\n        { name: STOP,     from: PAUSED,     to: FINISHED }\n      ],\n      methods: {\n        onStart() {\n          task.startTime = (new Date()).getTime();\n          task.status = this.state;\n        },\n        onPause() {\n          const timeNow = (new Date()).getTime();\n          if (!task.duration) {\n            const diff = timeNow - task.startTime;\n            task.duration = diff;\n          }\n          else {\n            const diff = timeNow - task.pauseTime;\n            task.duration += diff;\n          }\n          task.pauseTime = timeNow;\n\n          task.status = this.state;\n        },\n        onContinue() {\n          task.status = this.state;\n        },\n        onStop() {\n          const timeNow = (new Date()).getTime();\n          task.endTime = timeNow;\n          if (!task.duration) {\n            const diff = timeNow - task.startTime;\n            task.duration = diff;\n          }\n          else if (this.state !== PAUSED) {\n            const diff = timeNow - task.pauseTime;\n            task.duration += diff;\n          }\n\n          task.status = this.state;\n        },\n      }\n    });\n  }\n}\n\nclass DetailsPage extends Component {\n  constructor() {\n    super();\n\n    // react seems to be slow and inconsistent when assigning an object to state,\n    // set task: null and do console.log in the jsx to see\n    this.state = {\n      guid: \"\",\n      task: {}\n    };\n\n    this.changeTask = async (operation) => {\n      try {\n        this.setState({loading: 'Updating ...'});\n        const controller = new TaskController(this.state.task);\n        let res;\n        switch(operation) {\n          case START: res = controller.fsm.start(); break;\n          case STOP: res = controller.fsm.stop(); break;\n          case PAUSE: res = controller.fsm.pause(); break;\n          case CONTINUE: res = controller.fsm.continue(); break;\n          default:\n            return console.warn(`No ${operation}`);\n        }\n\n        if (!res) {\n          return;\n        }\n\n        const nGuid = await api.updateTask(this.state.guid, controller.task);\n        this.props.history.replace(`/tasks/${nGuid}/details`);\n        // Not sure why but history replace does not update guid\n        this.setState({guid: nGuid});\n      } catch (error) {\n        alert(error);\n      } finally {\n        if (!this.componentUnmounted)\n          this.setState({loading: undefined});\n      }\n    }\n\n    this.taskStatus = () => {\n      const state = (new TaskController(this.state.task)).fsm.state;\n\n      switch(state) {\n        case CREATED:\n          return \"You haven't started this task\";\n        case INPROGRESS:\n          return \"You're currently working on this task\";\n        case PAUSED:\n          return \"You're currently working on this task\";\n        case FINISHED:\n          return \"You've completed this task\";\n        default:\n          return \"Error\"\n      }\n    }\n\n    this.handleSubmitStress = async (stress, comments) => {\n      try {\n        this.setState({loading: 'Updating ...'});\n        const task = this.state.task;\n        task.stress = stress;\n        task.comments = comments;\n\n        await api.updateTask(this.state.guid, task);\n        this.props.history.replace(`/`);\n      } catch (error) {\n        alert(error);\n      } finally {\n        if (!this.componentUnmounted)\n          this.setState({loading: undefined});\n      }\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      this.setState({loading: true});\n      const task = await api.getTaskLatest(this.props.match.params.id); \n      if (task.guid !== this.props.match.params.id) {\n        this.props.history.replace(`/tasks/${task.guid}/details`);\n      }\n\n      this.setState({\n      \tguid: task.guid,\n      \ttask: task.data\n      });\n    } catch (error) {\n      alert(error);\n    } finally {\n      if (!this.componentUnmounted)\n        this.setState({loading: undefined});\n    }\n  }\n\n  componentWillUnmount() {\n    this.componentUnmounted = true;\n  }\n\n  render() {\n    const Buttons = () => {\n      const transitions = (new TaskController(this.state.task)).fsm.transitions();\n      return <div>\n        <style type=\"text/css\">\n          {`\n            .btn-flat {\n              background-color: #2799F9;\n              color: white;\n            }\n\n            .btn-xxl {\n              margin: 1rem 0 0 0;\n              font-size: 3rem;\n              height: 15rem;\n              width: 15rem;\n              border-radius: 40rem;\n            }\n\n            .btn-xxs {\n              margin: 10rem 0 0 0;\n              font-size: 1rem;\n              height: 5rem;\n              width: 5rem;\n              border-radius: 10rem;\n            }\n          `}\n        </style>\n        { transitions.includes(START) && <Button variant=\"flat\" size=\"xxl\" onClick={() => this.changeTask(START)}>Start</Button> }\n        { transitions.includes(PAUSE) && <Button variant=\"flat\" size=\"xxl\" onClick={() => this.changeTask(PAUSE)}>Pause</Button> }\n        { transitions.includes(CONTINUE) && <Button variant=\"flat\" size=\"xxl\" onClick={() => this.changeTask(CONTINUE)}>Continue</Button> }\n        { transitions.includes(STOP) && <Button variant=\"flat\" size=\"xxs\" onClick={() => this.changeTask(STOP)}>Stop</Button> }\n      </div>;\n    };\n    return (\n      <div>\n        <MyNavBar/>\n          <AsyncAwareContainer loading={this.state.loading}>\n          \t<Container className=\"text-center\">\n          \t{\n          \t\t(this.state.task.status === 'finished') ?\n\n          \t\t(<div>\n\t\t\t\t\t      <Card style={{'backgroundColor': '#2799F9', 'color': 'white'}}>\n          \t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t  <h4>Task {this.state.task.name} completed, time spent: {moment.duration(this.state.task.duration).format(\"m [minute]\")}</h4>\n                    <Table bordered style={{'color': 'white'}}>\n                      <thead>\n                        <tr>\n                          <th>Score</th>\n                          <th>Meaning</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr>\n                          <td>1 - 4 = low stress</td>\n                          <td>You are likely <b>not</b> psychologically distressed</td>\n                        </tr>\n                        <tr>\n                          <td>4.1 - 7 = moderate stress</td>\n                          <td>You are likely <b>mildly</b> psychologically distressed</td>\n                        </tr>\n                        <tr>\n                          <td>7.1 - 10 = high stress</td>\n                          <td>You are likely to be <b>severely</b> psychologically distressed</td>\n                        </tr>\n                      </tbody>\n                    </Table>\n\t\t\t\t\t\t\t\t  </Card.Body>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t  <br/><br/>\n          \t\t\t\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t(typeof this.state.task.stress === 'number') ?\n\t\t\t\t\t\t\t\t\t<h6 style={{'color': '#2699FB'}}>Submitted stress level: {this.state.task.stress}</h6>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<StressCollector submitStress={this.handleSubmitStress} />\n\t\t\t\t\t\t\t\t}\n          \t\t</div>)\n\n          \t\t:\n\n\t          \t(<div>\n\t          \t\t<Card style={{'backgroundColor': '#2799F9', 'color': 'white'}}>\n\t          \t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t  <h2>{this.state.task.name}</h2>\n\t\t\t\t\t\t\t\t\t  <br/><br/>\n\t\t\t\t\t\t\t\t\t  <h6>{this.taskStatus()}</h6>\n\t\t\t\t\t\t\t\t\t  <br/><br/><br/>\n\t\t\t\t\t\t\t\t\t  <h5>Task Details</h5>\n\t\t\t\t\t\t\t\t\t  <h6>Start Date: {this.state.task.startTime ? moment(this.state.task.startTime).format(timeFormat) : ''} | End Date: {this.state.task.endTime ? moment(this.state.task.endTime).format(timeFormat) : ''}</h6>\n\t\t\t\t\t\t\t\t  </Card.Body>\n\t\t\t\t\t\t\t\t</Card>\n                <Buttons />\n\t\t\t\t\t\t\t</div>)\n\t          }\n\t\t\t\t\t\t</Container>\n          </AsyncAwareContainer>\n      </div>\n    );\n  }\n}\n\nclass StressCollector extends Component {\n\tstate = {\n    value: 5,\n    comments: \"\"\n  };\n\n  onEnd = () => (render, handle, value, un, percent) => {\n    this.setState({\n    \tvalue: percent/10\n    });\n  };\n\n  render() {\n    return (\n    \t<div>\n    \t\t<h6 style={{'color': '#2699FB'}}>Drag the scroll bar up to indicate how stressful you felt in completing this activity</h6>\n    \t\t<div style={{\n    \t\t\tmargin: '2rem',\n    \t\t\tdisplay: 'flex',\n\t\t\t\t  justifyContent: 'center',\n          'height': '35rem'\n\t\t\t\t}}>\n          <StressSlider start={this.state.value} onEnd={this.onEnd} />\n\t      </div>\n        <Form.Group>\n          <Form.Control\n            placeholder='Do you have any comments? Were you able to time the duration of the task accurately? If no - please indicate the approximate duration that was recorded, but not spent on task (e.g. you forgot to \"pause\", while embarking on another activity unconnected to the task)'\n            onChange={e => this.setState({comments: e.target.value})}\n            as=\"textarea\"\n            rows=\"4\"\n          />\n        </Form.Group>\n\t      <Button style={{'backgroundColor': '#2799F9'}} onClick={() => this.props.submitStress(this.state.value, this.state.comments)}>Submit</Button>\n      </div>\n    );\n  }\n}\n\nexport default DetailsPage;","import React from \"react\";\nimport Auth from \"../../stores/auth\";\nimport api from \"../../Data/api\";\nimport FormRow from '../FormRow';\nimport AsyncAwareContainer from '../AsyncAwareContainer';\nimport { Button, Container, Form } from \"react-bootstrap\";\n\nclass RegisterPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    if (Auth.loggedIn()) {\n      this.props.history.replace(\"/\");\n    }\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      instructor: false\n    };\n\n    this.handleChange = event => {\n      const { name, value } = event.target;\n      this.setState({\n        [name]: value\n      });\n    }\n\n    this.handleRegister = async event => {\n      try {\n        this.setState({loading: 'Registering'});\n        await api.register(this.state.email, this.state.password, this.state.instructor ? 'INSTRUCTOR' : 'student');\n\n        this.setState({loading: 'Logging in'});\n        const { token, role } = await api.login(this.state.email, this.state.password);\n        if (window.FOR_INSTRUCTOR && role !== 'INSTRUCTOR') {\n          alert(\"Successfully registered but you are not an instructor, please use the app for students instead\");\n          return;  \n        } else if (!window.FOR_INSTRUCTOR && role === 'INSTRUCTOR') {\n          alert(\"Successfully registered but you are not a student, please use the app for the instructor instead\");\n          return;  \n        }\n        Auth.setToken(token);\n        this.props.history.replace(\"/\");\n      } catch (error) {\n        alert(error);\n      } finally {\n        if (!this.componentUnmounted)\n          this.setState({loading: undefined});\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.componentUnmounted = true;\n  }\n\n  render() {\n    return (\n      <div>\n        <Container>\n          <h1>Register</h1>\n          <AsyncAwareContainer loading={this.state.loading}>\n            <FormRow name=\"email\" placeholder=\"email\" onChange={this.handleChange} />\n            <FormRow name=\"password\" placeholder=\"password\" type=\"password\" onChange={this.handleChange} />\n            <Form.Check\n              name=\"instructor\"\n              label=\"I'm an instructor\"\n              onChange={() => this.setState({instructor: !this.state.instructor})}\n            />\n            <br />\n            <Button onClick={this.handleRegister}>Register</Button>\n          </AsyncAwareContainer>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default RegisterPage;","export default {\n  isConsented() {\n    return localStorage.getItem('consent') === '1';\n  },\n  doConsent() {\n    localStorage.setItem('consent', '1');\n  },\n  undoConsent() {\n    localStorage.removeItem('consent');\n  },\n};\n","import React from \"react\";\nimport Auth from \"../../stores/auth\";\nimport Consent from \"../../stores/consent\";\nimport api from \"../../Data/api\";\nimport logo from \"../logo.png\";\nimport FormRow from '../FormRow';\nimport { Button, Container, Image, Row, Col } from \"react-bootstrap\";\nimport AsyncAwareContainer from '../AsyncAwareContainer';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { IoMdArrowRoundForward } from 'react-icons/io';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    if (Auth.loggedIn()) {\n      this.props.history.replace(\"/\");\n    }\n\n    this.state = {\n      email: \"test1@test.com\",\n      password: \"123\"\n    };\n\n    this.handleChange = event => {\n      const { name, value } = event.target;\n      this.setState({\n        [name]: value\n      });\n    }\n\n    this.handleLogin = async event => {\n      try {\n        this.setState({loading: 'Logging in'});\n        const { token, role } = await api.login(this.state.email, this.state.password);\n        if (window.FOR_INSTRUCTOR && role !== 'INSTRUCTOR') {\n          alert(\"You are not an instructor, please use the app for students instead\");\n          return;  \n        } else if (!window.FOR_INSTRUCTOR && role === 'INSTRUCTOR') {\n          alert(\"You are not a student, please use the app for the instructor instead\");\n          return;  \n        }\n        Auth.setToken(token);\n        this.props.history.replace(\"/\");\n      } catch (error) {\n        alert(error);\n      } finally {\n        if (!this.componentUnmounted)\n          this.setState({loading: undefined});\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.componentUnmounted = true;\n  }\n\n  render() {\n    if (window.FOR_INSTRUCTOR) {\n      return (\n        <div>\n          <Container style={{'margin': '1rem'}}>\n            <Row style={{\n              'minHeight': '100vh',\n              'minWidth': '98vw'\n            }}>\n                <Col style={{\n                  'backgroundColor': '#2699fb',\n                  'display': 'flex',\n                  'alignItems': 'center',\n                  'justifyContent': 'center',\n                  'color': 'white'\n                }}>\n                  <div style={{width: '20rem'}}>\n                    <h5>Welcome to CD</h5>\n                    <hr style={{'borderTop': 'solid'}}/>\n                    <h6 style={{'fontWeight': 'lighter'}}>\n                      Welcome to the CD app for instructors. Login and to access\n                    </h6>\n                    <br/>\n                    <Button style={{\n                      'borderColor': 'white',\n                      'fontWeight': 'bold',\n                      'color': 'white'\n                    }} variant=\"outline-dark\">Learn more</Button>\n                  </div>\n                </Col>\n                <Col style={{\n                  'margin': '20% 0 20% 0',\n                  'color': '#2699FB'\n                }}>\n                  <Image src={logo} style={{width: '10rem'}} fluid />\n                  {\n                  Consent.isConsented() ?\n                    <AsyncAwareContainer loading={this.state.loading}>\n                      <div className=\"text-center\">\n                        <h4>Sign in</h4>\n                        <br/>\n                        <FormRow name=\"email\" placeholder=\"User ID\"  onChange={this.handleChange} />\n                        <FormRow name=\"password\" placeholder=\"Password\"  type=\"password\" onChange={this.handleChange} />\n                        <Button size='sm' onClick={this.handleLogin} block><IoMdArrowRoundForward/></Button>\n                      </div>\n                    </AsyncAwareContainer>\n                  :\n                    <div>\n                      <p style={{color: '#2699FB'}}> To start using this app, you must first give your consent to participate in the study: Impact of curriculum overload on students' mental health using the Curriculum Densitometer </p>\n                      <LinkContainer to={`/consent`} replace>\n                        <Button variant=\"primary\">\n                          Give consent\n                        </Button>\n                      </LinkContainer>\n                    </div>\n                  }\n                </Col>\n            </Row>\n          </Container>\n        </div>\n      )\n    }\n    return (\n      <div>\n        <Container className=\"text-center\">\n          <Image src={logo} style={{margin: '5rem', width: '15rem'}} fluid />\n          {\n            Consent.isConsented() ?\n              <AsyncAwareContainer loading={this.state.loading}>\n                <FormRow name=\"email\" placeholder=\"email\"  onChange={this.handleChange} />\n                <FormRow name=\"password\" placeholder=\"password\"  type=\"password\" onChange={this.handleChange} />\n                <Button onClick={this.handleLogin}>Log in</Button>\n              </AsyncAwareContainer>\n            :\n              <div>\n                <p style={{color: 'blue'}}> To start using this app, you must first give your consent to participate in the study: Impact of curriculum overload on students' mental health using the Curriculum Densitometer </p>\n                <LinkContainer to={`/consent`} replace>\n                  <Button variant=\"primary\">\n                    Give consent\n                  </Button>\n                </LinkContainer>\n              </div>\n          }\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default LoginPage;","import React from \"react\";\nimport Consent from \"../../stores/consent\";\nimport { Button } from \"react-bootstrap\";\nimport consentPdf from \"../consent.pdf\";\nimport PDFViewer from \"mgr-pdf-viewer-react\";\nimport utils from '../utils';\nimport AsyncAwareContainer from '../AsyncAwareContainer';\n\nclass ConsentPage extends React.Component {\n  state = {\n    scale: 1\n  }\n  increaseScale = () => this.setState(({ scale }) => ({ scale: scale + 0.2 }))\n  decreaseScale = () => this.setState(({ scale }) => ({ scale: scale - 0.2 }))\n\n  handleConsent = async event => {\n    try {\n      this.setState({loading: 'Thank you, redirecting to login'});\n      await utils.timeout(1000);\n      Consent.doConsent();\n      this.props.history.replace(\"/login\");\n    } catch (error) {\n      alert(error);\n    } finally {\n      if (!this.componentUnmounted)\n        this.setState({loading: undefined});\n    }\n  }\n\n  render() {\n    return (\n      <AsyncAwareContainer loading={this.state.loading}>\n        <style type=\"text/css\">\n          {`\n            .customViewer {\n              margin: 0;\n              padding: 0;\n              width: 30rem;\n              text-align: left;\n            }\n            .customViewer > div:nth-child(1) {\n              margin: 0;\n              padding: 0;\n              width: 30rem;\n            }\n            .customPrevBtn {\n              cursor: pointer;\n              display: inline-block;\n              margin: 0;\n              width: 3rem;\n              color: white;\n              background-color: black;\n              border-width: 0.1rem;\n              border-style: solid;\n              border-radius: 0.5rem;\n            }\n            .customNextBtn {\n              cursor: pointer;\n              display: inline-block;\n              margin: 0;\n              width: 3rem;\n              color: white;\n              background-color: black;\n              border-width: 0.1rem;\n              border-style: solid;\n              border-radius: 0.5rem;\n            }\n            .customPages {\n              display: inline-block;\n              width: 15rem;\n            }\n            .customWrapper {\n              height: 3rem;\n              font-size: 1.2rem;\n              background-color: #fff;\n            }\n          `}\n        </style>\n        <Button variant=\"light\" onClick={this.decreaseScale}>-</Button>\n        <span>Scale: {this.state.scale}</span>\n        <Button variant=\"light\" onClick={this.increaseScale}>+</Button>\n        <PDFViewer\n          document={{url: consentPdf}}\n          css=\"customViewer\"\n          scale={this.state.scale}\n          navigation={{\n            css: {\n              previousPageBtn: 'customPrevBtn',\n              nextPageBtn: 'customNextBtn',\n              pages: 'customPages',\n              wrapper: 'customWrapper'\n            }\n          }}\n        />\n        <div style={{\n          margin: '2rem',\n          display: 'flex',\n          justifyContent: 'center'\n        }}>\n          <Button size=\"lg\" className=\"text-center\" variant=\"primary\" onClick={this.handleConsent}>\n            Give consent\n          </Button>\n        </div>\n      </AsyncAwareContainer>\n    );\n  }\n}\n\nexport default ConsentPage;","import React from \"react\";\nimport api from \"../../Data/api\";\nimport AsyncAwareContainer from '../AsyncAwareContainer';\nimport { Button, Container, Card, FormControl } from \"react-bootstrap\";\nimport { CSVLink } from \"react-csv\";\n\nclass CollectorPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      credentials: \"\",\n      csvs: []\n    };\n\n    this.handleChange = event => {\n      const { name, value } = event.target;\n      this.setState({\n        [name]: value\n      });\n    }\n\n    this.handleCollect = async event => {\n      try {\n        this.setState({loading: 'Collecting'});\n        const csvs = await api.collect(this.state.credentials);\n        this.setState({ csvs });\n      } catch (error) {\n        alert(error);\n      } finally {\n        if (!this.componentUnmounted)\n          this.setState({loading: undefined});\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.componentUnmounted = true;\n  }\n\n  render() {\n    return (\n      <div>\n        <Container className=\"text-center\">\n          <h1>Collector</h1>\n          <AsyncAwareContainer loading={this.state.loading}>\n            <FormControl\n              placeholder=\"Credentials\"\n              name=\"credentials\"\n              onChange={this.handleChange}\n            />\n            <br/>\n            <Button onClick={this.handleCollect}>Collect</Button>\n            {\n              this.state.csvs.map(c =>\n                <Card key={c.name} border=\"success\" style={{ margin: '2rem 8rem' }}>\n                  <Card.Body>\n                    <Card.Title>{c.name}</Card.Title>\n                    <CSVLink filename={`${c.name}.csv`} data={c.csv}>Download</CSVLink>\n                  </Card.Body>\n                </Card>\n              )\n            }\n          </AsyncAwareContainer>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default CollectorPage;","import React from \"react\";\nimport { HashRouter, Switch, Redirect, Route } from \"react-router-dom\";\n\nimport HomePage from \"./components/HomePage/HomePage\"\nimport IncludePage from \"./components/IncludePage/IncludePage\"\nimport DetailsPage from \"./components/DetailsPage/DetailsPage\"\nimport RegisterPage from \"./components/RegisterPage/RegisterPage\"\nimport LoginPage from \"./components/LoginPage/LoginPage\"\nimport ConsentPage from \"./components/ConsentPage/ConsentPage\"\nimport CollectorPage from \"./components/CollectorPage/CollectorPage\"\nimport Auth from \"./stores/auth\";\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        Auth.loggedIn() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: props.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nfunction LogoutRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        {\n          Auth.logout();\n          return (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: { from: props.location }\n              }}\n            />\n          );\n        }\n      }\n    />\n  );\n}\n\n// Followed https://github.com/gothinkster/react-mobx-realworld-example-app\n// To adopt mobx faster later on\nexport default class App extends React.Component {\n  render() {\n    return (\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/login\" component={LoginPage} />\n          <Route exact path=\"/register\" component={RegisterPage} />\n          <Route exact path=\"/consent\" component={ConsentPage} />\n          <Route exact path=\"/collect\" component={CollectorPage} />\n          <LogoutRoute exact path=\"/logout\" />\n          <PrivateRoute exact path=\"/\" component={HomePage} />\n          <PrivateRoute exact path=\"/tasks/include\" component={IncludePage} />\n          <PrivateRoute exact path=\"/tasks/:id/details\" component={DetailsPage} />\n        </Switch>\n      </HashRouter>\n    );\n  }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}